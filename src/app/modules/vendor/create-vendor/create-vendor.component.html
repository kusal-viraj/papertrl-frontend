<div style="margin-top: 8px" xmlns="http://www.w3.org/1999/html"
     xmlns="http://www.w3.org/1999/html">
  <form [formGroup]="vendorCreateForm" autocomplete="off"
        [ngClass]="vendorHome.isOpenEditPage? 'margin-top': null">
    <div class="p-fluid">
      <div class="col-12 grid">
        <div class="xl:col-12">
          <h6 style="color: #73828A">Basic Information</h6>
        </div>
        <div class="field col-12 xl:col-4">
          <label class="label-wrapper" for="vendorName">Vendor Name*</label>
          <div #actualTarget class="p-inputgroup">
            <span class="p-float-label">
              <input autocomplete="off"
                     (keyup)="removeSpace.clearSpace(vendorCreateForm, 'name'); !this.vendorHome.isOpenEditPage ? toggleOverlay($event, actualTarget) : null"
                     (paste)="removeSpace.clearSpace(vendorCreateForm, 'name')" formControlName="name" maxlength="150"
                     #vendorNameInput
                     id="vendorName" type="text" pInputText>

            </span>
          </div>
          <div class="p-invalid text-align-left"
               *ngIf="vendorCreateForm.get('name').dirty && vendorCreateForm.get('name').hasError('required')">
            Vendor Name is required
          </div>
          <div class="p-invalid text-align-left" *ngIf="vendorCreateForm.get('name').hasError('maxlength')">
            Vendor Name must be less than 150 characters
          </div>
        </div>

        <div class="field col-12 xl:col-4">
          <label class="label-wrapper" for="vendorCode">Vendor Code</label>
          <div class="p-inputgroup">
            <span class="p-float-label">
              <input formControlName="vendorCode"
                     (keyup)="checkVendorCodeAvailability(); removeSpace.clearSpace(vendorCreateForm, 'vendorCode')"
                     id="vendorCode" type="text"
                     pInputText>
            </span>
          </div>
          <div class="p-invalid text-align-left" *ngIf="isVendorCodeAvailable">
            Vendor Code already exist, Please enter new one
          </div>
          <div class="p-invalid text-align-left" *ngIf="vendorCreateForm.get('vendorCode').hasError('maxlength')">
            Vendor Code must be less than 50 characters
          </div>
        </div>

        <div class="field col-12 xl:col-4">
          <label class="label-wrapper" for="contactName">Contact Name </label>
          <div class="p-inputgroup">
            <span class="p-float-label">
              <input maxlength="150" formControlName="contactPerson"
                     (keyup)="removeSpace.clearSpace(vendorCreateForm, 'contactPerson')"
                     id="contactName" type="text" pInputText>
            </span>
          </div>
          <div class="p-invalid text-align-left" *ngIf="vendorCreateForm.get('contactPerson').hasError('maxlength')">
            Contact Name must be less than 150 characters
          </div>
        </div>

        <div class="field col-12 xl:col-4">
          <label class="label-wrapper" for="contactNumber">Contact Number </label>
          <app-country-code-validation [telephoneFormControl]="vendorCreateForm.get('contactNumber')">
          </app-country-code-validation>
          <div *ngIf="vendorCreateForm.get('contactNumber').hasError('validatePhoneNumber')"
               class="p-invalid text-align-left">
            Invalid Contact Number
          </div>
        </div>

        <div class="field col-12 xl:col-4">
          <label class="label-wrapper" for="faxNumber">Fax Number </label>
          <div class="p-inputgroup">
            <span class="p-float-label">
              <input formControlName="fax" id="faxNumber" (keyup)="removeSpace.clearSpace(vendorCreateForm, 'fax')"
                     type="text" pInputText>
            </span>
          </div>
          <div class="p-invalid text-align-left" *ngIf="vendorCreateForm.get('fax').hasError('maxlength')">
            Fax Number must be less than 50 characters
          </div>
        </div>

        <div class="field col-12 xl:col-4">
          <label class="label-wrapper" for="faxNumber">Email Address* </label>
          <div class="p-inputgroup">
            <span class="p-float-label">
               <input maxlength="150" (keyup)="checkEmailAvailability();
                removeSpace.clearSpace(vendorCreateForm, 'email')" formControlName="email"
                      id="emailAddress" type="text"
                      pInputText [readOnly]="isSocialEmailDisabled">
            </span>
          </div>
          <div class="p-invalid  text-align-left"
               *ngIf="vendorCreateForm.get('email').dirty && vendorCreateForm.get('email').errors">
            <div *ngIf="vendorCreateForm.get('email').errors.required">Email Address is required</div>
            <div *ngIf="vendorCreateForm.controls['email'].hasError('emailValidate')">Email must be a valid
              email address
            </div>
          </div>
          <div class="p-invalid text-align-left" *ngIf="isEmailAvailable">
            Email already exist, Please enter new one
          </div>
          <div class="p-invalid text-align-left" *ngIf="vendorCreateForm.get('email').hasError('maxlength')">
            Email must be less than 150 characters
          </div>
        </div>

        <div class="field col-12 xl:col-4">
          <label class="label-wrapper" for="ccEmailAddress">CC Email Address </label>
          <div class="p-inputgroup">
            <span class="p-float-label">
              <input formControlName="ccEmail" maxlength="150"
                     (keyup)="removeSpace.clearSpace(vendorCreateForm, 'ccEmail')" id="ccEmailAddress"
                     type="text" pInputText>
            </span>
          </div>
          <div class="p-invalid  text-align-left"
               *ngIf="vendorCreateForm.get('ccEmail').dirty && vendorCreateForm.get('ccEmail').errors">
            <div *ngIf="vendorCreateForm.controls['ccEmail'].hasError('emailValidate')">Email must be a valid
              email address
            </div>
          </div>
          <div class="p-invalid text-align-left" *ngIf="vendorCreateForm.get('ccEmail').hasError('maxlength')">
            CC-Email must be less than 150 characters
          </div>
        </div>


        <div class="field col-12 xl:col-4">
          <label class="label-wrapper" for="approvalGroup">Select Vendor Group</label>
          <span class="p-float-label">
               <p-multiSelect [virtualScroll]="vendorsGroupList.data.length > 20" virtualScrollItemSize="25"
                              appMultiselectFocus
                              [options]="vendorsGroupList.data" id="approvalGroup" optionValue="id"
                              optionDisabled="inactive" class="responsive-multiselect" #multiSelect
                              (onChange)="vendorGroupChanged($event, multiSelect )"
                              inputId="approvalGroup" formControlName="vendorGroupIdList" optionLabel="name"
                              [showToggleAll]="true" [filter]="true">

                 <ng-template let-vendorAccount pTemplate="item">
                   <div class="grid">
                     <div class="dropdown-list">{{vendorAccount.name}}</div>
                   </div>
                 </ng-template>

                 <ng-template pTemplate="footer"
                              *ngIf="privilegeService.isAuthorized(appAuthorities.VENDOR_GROUP_CREATE)">
                    <div class="grid dp-footer">
                      <div class="col-12 button-wrapper">
                        <button pButton class="p-button-sm" label="Add New"
                                (click)="createVendorGroup = true"></button>
                      </div>
                    </div>
                  </ng-template>

               </p-multiSelect>
            </span>
        </div>

        <div class="field col-12 xl:col-4">
          <label class="label-wrapper" for="term">Select Payment Term</label>
          <span class="p-float-label p-fluid">
              <p-dropdown #paymentTerm [options]="termList.data" id="term" [autoDisplayFirst]="false" [filter]="true"
                          (onChange)="commonUtil.isPressEnterInsideDropdown(paymentTerm)"
                          formControlName="term" optionValue="id" optionLabel="name" [showClear]="true">
               </p-dropdown>

            </span>
        </div>

        <div class="field col-12 xl:col-3"
             *ngIf="vendorCreateForm.get(appFormConstants.TERM).value === 10">
          <label class="label-wrapper" for="netDaysDue">Net Days Due</label>
          <div class="p-inputgroup">
            <span class="p-float-label">
              <input formControlName="netDaysDue" numbersOnly id="netDaysDue" type="text"
                     pInputText>
            </span>
          </div>

          <div class="p-invalid text-align-left"
               *ngIf="vendorCreateForm.get('netDaysDue').dirty &&
           vendorCreateForm.get('netDaysDue').hasError('required')">
            Net Days Due is required
          </div>
          <div class="p-invalid text-align-left"
               *ngIf="vendorCreateForm.get('netDaysDue').dirty && vendorCreateForm.get('netDaysDue').hasError('min')">
            Invalid net days due
          </div>
        </div>

        <div class="field col-12 xl:col-3"
             *ngIf="vendorCreateForm.get(appFormConstants.TERM).value === 10">
          <label class="label-wrapper" for="discountPercentage">Discount Percentage</label>
          <div class="p-inputgroup">
            <span class="p-float-label">
              <input formControlName="discountPercentage" id="discountPercentage" type="text" pInputText
                     currencyMask [options]="{ prefix: '', thousands: ',', decimal: '.'}" maxlength="6">
            </span>
          </div>
        </div>


        <div class="field col-12 xl:col-3"
             *ngIf="vendorCreateForm.get(appFormConstants.TERM).value === 10">
          <label class="label-wrapper" for="discountDaysDue">Discount Days Due</label>
          <div class="p-inputgroup">
            <span class="p-float-label">
              <input formControlName="discountDaysDue" numbersOnly id="discountDaysDue" type="text" pInputText>
            </span>
          </div>
        </div>


        <div class="field col-12 xl:col-4" *ngIf="isConfidential">
          <label class=" label-wrapper" for="confidential">Is Confidential Vendor?</label>
          <div class="p-inputgroup">
            <p-checkbox name="confidential" [ngModelOptions]="{standalone: true}" binary="true"
                        class="costume-checkbox-wrapper"
                        [(ngModel)]="vendorDto.confidential" id="confidential"></p-checkbox>
          </div>
        </div>

        <div class="field col-12 xl:col-1">
          <label class=" label-wrapper" for="confidential">Is 1099 Vendor?</label>
          <div class="p-inputgroup">
            <p-checkbox name="confidential" binary="true" class="costume-checkbox-wrapper"
                        formControlName="tenNinetyNine" id="confidential"></p-checkbox>
          </div>
        </div>

        <ng-container class="grid col-12" formArrayName="additionalDataBasicInfo"
                      *ngIf="additionalDataBasicInfo.length > 0">


          <ng-container
            *ngFor="let additionalField of vendorAdditionalDataArrayInBasicInformation.controls; let i=index"
            [formGroupName]="i">

     <span class="field col-12 xl:col-3 md:col-3"
           *ngIf="commonUtil.checkUndefinedValues(additionalField.get('fieldValue').value,
           additionalDataBasicInfo[i].docStatus, false)">


      <div *ngIf="appFieldType.LABEL === additionalDataBasicInfo[i].fieldTypeId">
         <label class="label-wrapper">{{additionalDataBasicInfo[i].fieldName}}</label>
        <span class="p-float-label">
            <input type="text" class="form-control" pInputText
                   [readonly]="true" readonly [value]="additionalDataBasicInfo[i].value">

        </span>

      </div>

      <div *ngIf="appFieldType.TEXT_BOX === additionalDataBasicInfo[i].fieldTypeId">
         <label class="label-wrapper"
                for="input1_{{i}}">{{additionalDataBasicInfo[i].fieldName}}
           {{additionalDataBasicInfo[i].required ? '*' : ''}}</label>
        <div class="p-inputgroup">
            <span class="p-float-label">
              <input formControlName="fieldValue" type="text" pInputText id="input1_{{i}}"
                     [maxLength]="additionalDataBasicInfo[i].maxLength" class="place-holder-width"
                     [pKeyFilter]="commonUtil.buildRegex(additionalDataBasicInfo[i].dataType)"
                     maxlength="{{additionalDataBasicInfo[i].maxLength}}"
                     (keyup)="removeSpace.clearSpace(additionalField, 'fieldValue')">
            </span>
        </div>
      </div>

      <div>
        <div
          *ngIf="appFieldType.TEXT_AREA === additionalDataBasicInfo[i].fieldTypeId">
           <label class="label-wrapper"
                  for="notes1_{{i}}">{{additionalDataBasicInfo[i].fieldName}}
             {{additionalDataBasicInfo[i].required ? '*' : ''}}</label>
      <div class="p-inputgroup">
          <span class="p-float-label">
            <textarea formControlName="fieldValue" id="notes1_{{i}}" rows="{{additionalDataBasicInfo[i].rowCount}}"
                      pInputTextarea
                      [maxLength]="additionalDataBasicInfo[i].maxLength"
                      class="place-holder-width"
                      (keyup)="removeSpace.clearSpace(additionalField, 'fieldValue')"></textarea>
          </span>
      </div>
    </div>
      </div>

            <div
              *ngIf="appFieldType.DROP_DOWN_FIELD === additionalDataBasicInfo[i].fieldTypeId && additionalDataBasicInfo[i].multiple === 'A'">
                 <label class="label-wrapper" for="multiselect_{{i}}">Select {{additionalDataBasicInfo[i].fieldName}}
                   {{additionalDataBasicInfo[i].required ? '*' : ''}}</label>
      <span class="p-float-label">
           <p-multiSelect [options]="additionalDataBasicInfo[i].optionsList.data" id="multiselect_{{i}}"
                          appMultiselectFocus optionDisabled="inactive"
                          optionValue="id" inputId="multiselect_{{i}}" #multiSelect appendTo="body"
                          (onChange)="addNewAdditionalDropDownOption($event,additionalDataBasicInfo[i],additionalField, multiSelect)"
                          (onClick)="commonUtil.isAllowedToTriggerClickEvent(multiSelect, additionalDataBasicInfo[i]) ? addNewAdditionalDropDownOption($event,additionalDataBasicInfo[i],additionalField, multiSelect): null"
                          formControlName="fieldValue" optionLabel="name" [showToggleAll]="true" [filter]="true">
             <ng-template pTemplate="selectedItem">
                <div>{{additionalField.get('fieldValue').value.name}}</div>
             </ng-template>

             <ng-template let-multiselect pTemplate="item">
                 <div class="grid">
                     <div class="dropdown-list">{{multiselect.name}}</div>
                 </div>
             </ng-template>

              <ng-template pTemplate="footer" *ngIf="additionalDataBasicInfo[i].createNew === 'A'">
                    <div class="grid dp-footer">
                      <div class="col-12 button-wrapper">
                        <button pButton class="p-button-sm" label="Add New"
                                (click)="addNewDropDown = true;
                           setSelectedAdditionalField(additionalDataBasicInfo[i])"></button>
                      </div>
                    </div>
                  </ng-template>

           </p-multiSelect>
        </span>
      </div>

      <div
        *ngIf="appFieldType.DROP_DOWN_FIELD === additionalDataBasicInfo[i].fieldTypeId && additionalDataBasicInfo[i].multiple != 'A'">
        <label class="label-wrapper"
               for="dropdown1_{{i}}">Select {{additionalDataBasicInfo[i].fieldName}}
          {{additionalDataBasicInfo[i].required ? '*' : ''}}</label>
      <span class="p-float-label">
           <p-dropdown [options]="additionalDataBasicInfo[i].optionsList.data" [showClear]="true" #dropdown1
                       class="vendor-dropdown" [virtualScroll]="true" virtualScrollItemSize="25" appendTo="body"
                       (onChange)="addNewAdditionalDropDownOption($event,additionalDataBasicInfo[i],additionalField, dropdown1);
                       commonUtil.isPressEnterInsideDropdown(dropdown1)" optionDisabled="inactive"
                       id="dropdown1_{{i}}" optionValue="id" optionLabel="name" [autoDisplayFirst]="false"
                       formControlName="fieldValue" inputId="dropdown_{{i}}" [filter]="true">

             <ng-template pTemplate="selectedItem">
                <div>{{dropdown1.selectedOption.name}}</div>
             </ng-template>

              <ng-template pTemplate="footer" *ngIf="additionalDataBasicInfo[i].createNew === 'A'">
                    <div class="grid dp-footer">
                      <div class="col-12 button-wrapper">
                        <button pButton class="p-button-sm" label="Add New"
                                (click)="addNewDropDown = true;
                                setSelectedAdditionalField(additionalDataBasicInfo[i])"></button>
                      </div>
                    </div>
                  </ng-template>
           </p-dropdown>
        </span>
      </div>

        <div *ngIf="appFieldType.FILE_INPUT === additionalDataBasicInfo[i].fieldTypeId">
           <label class="label-wrapper" for="fileText">Upload {{additionalDataBasicInfo[i].fieldName}} Here
             {{additionalDataBasicInfo[i].required ? '*' : ''}}</label>
              <div class="p-inputgroup">
              <span class="p-float-label">
              <input [id]="'fileUploadH1'+ i" #fileInput1
                     (change)="commonUtil.changeFileInput($event,additionalField, additionalDataBasicInfo[i],false, fileInput1)"
                     type="file" class="place-holder-width"
                     accept="{{additionalDataBasicInfo[i].fileTypes}}" hidden>
              <input id="fileText1" formControlName="attachment" readonly type="text"
                     (click)="fileUploadClick('fileUploadH1', i)"
                     (keydown.enter)="fileUploadClick('fileUploadH1', i)"
                     style="border-radius: 6px 0 0 6px !important;"
                     class="place-holder-width"
                     [value]="fileInput1.files[0] ? fileInput1.files[0].name : null" pInputText>
              <button tabindex="-1" style="margin: 0 !important;height: 31px !important;" type="button" pButton
                      label="Browse" class="p-button file-browse p-button-sm"
                      (click)="fileUploadClick('fileUploadH1', i)"></button>
           <button tabindex="-1" *ngIf="fileInput1.files[0] != null" pButton type="button"
                   class="p-button-outlined p-button-sm"
                   icon="fa fa-close"
                   (click)="fileInput1.value = null; commonUtil.changeFileInput($event,additionalField, null,false, fileInput1)"></button>
             </span>
              </div>
        </div>
       <div *ngIf="appFieldType.DATE_FIELD=== additionalDataBasicInfo[i].fieldTypeId">
         <label class="label-wrapper" for="dateField1_{{i}}">{{additionalDataBasicInfo[i].fieldName}}
           {{additionalDataBasicInfo[i].required ? '*' : ''}} </label>
      <div class="p-inputgroup">
            <span class="p-float-label">
              <p-calendar appTabindexMinusOne formControlName="fieldValue" id="dateField1_{{i}}"
                          class="place-holder-width" [showButtonBar]="true"
                          (onSelect)="formatDate($event, i, 'basic')" [showIcon]="true"></p-calendar>
               <button pButton type="button" class="p-button p-button-sm clear-button"
                       icon="fa fa-close" (click)="additionalField.get('fieldValue').reset()"></button>
            </span>
      </div>
       </div>

              <div *ngIf="appFieldType.RADIO_BUTTON === additionalDataBasicInfo[i].fieldTypeId">
            <span
              class="label-wrapper">{{additionalDataBasicInfo[i].fieldName}}  {{additionalDataBasicInfo[i].required ? '*' : ''}}</span>
                <div class="grid col-12" [style]="{'align-items': 'center'}">
                  <div class="radio-container" *ngFor="let option of additionalDataBasicInfo[i].options">
                    <label>
                      <input id="male1" type="radio" value="{{option.optionValue}}" class="radioButton"
                             formControlName="fieldValue">
                      <span style="margin-left: 0.2rem; margin-right: 0.5rem"
                            for="male1">{{' ' + option.optionValue}}</span>
                    </label>
                  </div>
                </div>
              </div>

                 <div *ngIf="appFieldType.CHECK_BOX === additionalDataBasicInfo[i].fieldTypeId">
        <div class="p-inputgroup" style="position:relative">
     <div class="field-checkbox">
           <p-checkbox name="checkBox" formControlName="fieldValue" id="binary1" binary="true"></p-checkbox>
          <label
            for="binary1">{{additionalDataBasicInfo[i].fieldName}}{{additionalDataBasicInfo[i].required ? '*' : ''}}</label>
          </div>
        </div>
      </div>

      <div class="p-invalid text-align-left"
           *ngIf="(additionalField.get('fieldValue').errors && additionalField.get('fieldValue').dirty) ||
(additionalField.get('attachment').errors && additionalField.get('attachment').dirty)">

         <div *ngIf="additionalField.get('fieldValue').dirty
             && additionalField.get('fieldValue').hasError('required')"> {{additionalDataBasicInfo[i].fieldName}}
           is required
            </div>

            <div *ngIf="additionalField.get('attachment').dirty
             && additionalField.get('attachment').hasError('required')"> {{additionalDataBasicInfo[i].fieldName}}
              is required
            </div>

        <div *ngIf="additionalField.get('fieldValue').hasError('isValidate')">
          Field require ({{appConstant.DATA_TYPE_PATTERN_MAP.get(additionalDataBasicInfo[i].dataType)}}) type
        </div>
      </div>


    </span>
          </ng-container>
        </ng-container>

        <div class="xl:col-9 empty-div"></div>
      </div>

      <div class="col-12 grid">

        <div class="xl:col-12">
          <h6 style="color: #73828A">Supplier Diversity Information</h6>
        </div>

        <div class="col-12">
          <p class="subHeadingColour">A diverse supplier is defined as a U.S. privately held company that is 51% owned
            and operated by a woman,
            minority, veteran, disable veteran, person with a disability or a member of the lesbian, gay, bisexual or
            transgender (LGBT) community.</p>
          <br>
        </div>

        <div class="field col-12 xl:col-3">
          <div class="grid">
            <div class="pb-0 pt-2 col-12">Are you a diverse supplier?</div>
            <div class="pb-0 pt-2 col-4">
              <div class="field-radiobutton vendor-radio-container">
                <input name="diverseSupplier" [value]="true"
                       (click)="vendorCreateForm.get('diverseSupplier').patchValue(true)" id="city3" type="radio"
                       class="radioButton" formControlName="diverseSupplier">
                <label for="city3">Yes</label>
              </div>
            </div>
            <div class="pb-0 pt-2 col-6">
              <div class="field-radiobutton vendor-radio-container">
                <input name="diverseSupplier" id="city4" [value]="false" type="radio" class="radioButton"
                       formControlName="diverseSupplier">
                <label for="city4">No</label>
              </div>
            </div>
          </div>
        </div>

        <div class="field col-12 xl:col-3" [hidden]="!vendorCreateForm.get('diverseSupplier').value">
          <label class="label-wrapper" for="paymentType">Select Classification* </label>
          <span class="p-float-label">
            <p-multiSelect [virtualScroll]="classification.data.length >20" virtualScrollItemSize="25"
                           appMultiselectFocus
                           inputId="dropdown" formControlName="classificationIdList" id="classification"
                           [options]="classification.data" [filter]="true" optionLabel="name" optionValue="id">
            </p-multiSelect>
          </span>
          <div class="p-invalid text-align-left"
               *ngIf="vendorCreateForm.get('classificationIdList').dirty && vendorCreateForm.get('classificationIdList').hasError('required')">
            Classification is required
          </div>
        </div>


        <div class="field col-12 xl:col-6" [hidden]="!vendorCreateForm.get('diverseSupplier').value">
          <label class="label-wrapper" for="fileText">Attach Diversity Certification</label>
          <div class="p-inputgroup">
            <span class="p-float-label">
            <input id="classificationUpload" #diversity accept="application/pdf"
                   (change)="classificationUpload($event, diversity)" type="file" multiple hidden>
            <input readonly onClick="document.getElementById('classificationUpload').click()"
                   formControlName="classificationAttachmentListNames"
                   (keydown.enter)="document.getElementById('classificationUpload').click()"
                   style="border-radius: 6px 0 0 6px !important;"
                   type="text" pInputText [value]="getClassificationAttachmentNames(diversity)">

            <button tabindex="-1" style="margin: 0 !important;height: 31px !important;" type="button" pButton
                    label="Browse" class="p-button file-browse p-button-sm"
                    onClick="document.getElementById('classificationUpload').click()"></button>
                   <button tabindex="-1" pButton type="button" class="p-button-outlined p-button-sm"
                           *ngIf="diversity.value"
                           icon="fa fa-close"
                           (click)="diversity.value = null; vendorCreateForm.get('classificationAttachmentList').reset()"></button>
           </span>
          </div>
        </div>


      </div>

      <div class="col-12 grid payment-fields-invalid" *ngIf="commonUtil.isValidPaymentInfo(vendorCreateForm)">
        <div>
          <span class="fa fa-question-circle"></span> Please note that the below-highlighted fields need to be configured
          in order to complete your payment setup with the selected payment type(s).
        </div>

      </div>

      <div class="col-12 grid">

        <div class="xl:col-12">
          <h6 style="color: #73828A">Payment Information</h6>
        </div>

        <div class="field col-12 xl:col-4">
          <label class="label-wrapper" for="accountRoutingNumber">Accepted Payment Type(s)</label>
          <div class="p-inputgroup">
            <p-multiSelect [options]="allPaymentTypeList.data"
                           id="paymentInformation"
                           optionValue="id" inputId="paymentInformation"
                           #accPaymentTypes appendTo="body"
                           (onChange)="setPreferredPaymentType(accPaymentTypes.value); commonUtil.onAcceptedPaymentTypesChange(vendorCreateForm.get('acceptedPaymentTypes').value)"
                           (onClear)="setPreferredPaymentType(accPaymentTypes.value); commonUtil.isValidPaymentInfo(vendorCreateForm)"
                           formControlName="acceptedPaymentTypes" optionLabel="name" [showToggleAll]="true"
                           [filter]="true">
              <ng-template pTemplate="selectedItem">
                <div>{{vendorCreateForm.get('acceptedPaymentTypes').value.name}}</div>
              </ng-template>

              <ng-template let-multiselect pTemplate="item">
                <div class="grid">
                  <div class="dropdown-list"
                       [ngClass]="multiselect.id == 0 ? ' dropdown-add': null">{{multiselect.name}}</div>
                  <em *ngIf="multiselect.name == 'Add New'"
                      class="pi pi-plus dropdown-icon dropdown-add"></em>
                </div>
              </ng-template>
            </p-multiSelect>
          </div>
        </div>


        <div class="field col-12 xl:col-4">
          <label class="label-wrapper" for="accountRoutingNumber">Preferred Payment Type</label>
          <div class="p-inputgroup">

            <p-dropdown #paymentType [options]="selectedPaymentTypes.data" id="preferredPaymentType"
                        [autoDisplayFirst]="false"
                        [filter]="true"
                        formControlName="preferredPaymentTypeId" optionValue="id" optionLabel="name" [showClear]="true"
                        (onChange)="commonUtil.isPressEnterInsideDropdown(paymentType)">
            </p-dropdown>

          </div>
        </div>

        <div class="field col-12 xl:col-4">
          <label class="label-wrapper" for="vendorName">Name</label>
          <div #actualTarget class="p-inputgroup"
               [ngClass]="{'isSelectedCheck': commonUtil.isSelectedVirtualCardACHCheck && !vendorCreateForm.get('companyName').value}">
            <span class="p-float-label">
              <input autocomplete="off" blockSpace formControlName="companyName" maxlength="22"
                     id="name" type="text" pInputText>
            </span>
          </div>
          <small class="block">This field will be used for (ACH, Checks, Virtual Cards).</small>
        </div>

        <div class="field col-12 xl:col-4">
          <label class="label-wrapper" for="recipientType">Recipient Type</label>
          <span class="p-float-label">
            <p-dropdown #recipient [virtualScroll]="recipientType.data.length >20" virtualScrollItemSize="25"
                        inputId="dropdown"
                        (onChange)="commonUtil.isPressEnterInsideDropdown(recipient)"
                        formControlName="recipientType" id="recipientType"
                        [ngClass]="{'isSelectedCheck': commonUtil.isSelectedACH && !vendorCreateForm.get('recipientType').value}"
                        [autoDisplayFirst]="false" optionDisabled="inactive" showClear="true"
                        [options]="recipientType.data" [filter]="true" optionLabel="name" optionValue="id">
            </p-dropdown>
          </span>
          <small class="block">This field will be used for (ACH).</small>
        </div>

        <div class="field col-12 xl:col-4">
          <label class="label-wrapper" for="accountType">Account Type</label>
          <span class="p-float-label">
            <p-dropdown [virtualScroll]="accountType.data.length >20" virtualScrollItemSize="25" inputId="dropdown"
                        formControlName="accountType" id="accountType" [autoDisplayFirst]="false"
                        optionDisabled="inactive" showClear="true" #accountT
                        [ngClass]="{'isSelectedCheck': commonUtil.isSelectedACH && !vendorCreateForm.get('accountType').value}"
                        [options]="accountType.data" [filter]="true" optionLabel="name" optionValue="id"
                        (onChange)="commonUtil.isPressEnterInsideDropdown(accountT)">
            </p-dropdown>
          </span>
          <small class="block">This field will be used for (ACH).</small>
        </div>

        <div class="field col-12 xl:col-4">
          <label class="label-wrapper" for="accountNumber">Account Number</label>
          <div #actualTarget class="p-inputgroup"
               [ngClass]="{'isSelectedCheck': commonUtil.isSelectedACHCheck && !vendorCreateForm.get('accountNumber').value}">
            <span class="p-float-label">
              <input autocomplete="off" blockSpace formControlName="accountNumber"
                     (paste)="onPaste($event)" maxlength="17"
                     id="accountNumber" type="text" pKeyFilter="pint" pInputText>
            </span>
          </div>
          <small class="block">This field will be used for (ACH, Checks).</small>
        </div>

        <div class="field col-12 xl:col-4">
          <label class="label-wrapper" for="accountRoutingNumber">Bank Identification Number / Routing Number</label>
          <div #actualTarget class="p-inputgroup"
               [ngClass]="{'isSelectedCheck': commonUtil.isSelectedACHCheck && !vendorCreateForm.get('accountRoutingNumber').value}">
            <span class="p-float-label">
              <input autocomplete="off" blockSpace formControlName="accountRoutingNumber" maxlength="9"
                     (paste)="onPaste($event)" id="accountRoutingNumber" type="text" pKeyFilter="pint" pInputText>
            </span>
          </div>
          <small class="block">This field will be used for (ACH, Checks).</small>
        </div>

        <span class="field col-12 xl:col-6" style="margin-top: 20px">
          <p-inputSwitch class="custom-checkbox" [styleClass]="vendorCreateForm.get('remitEmailSwitchEnable').value ? 'card-overflow': null"
                         formControlName="remitEmailSwitchEnable"></p-inputSwitch>
          <span
            class="col-10 costume-checkbox">Please check if the remit email address is different from above Email</span>
        </span>


        <div class="field col-12 xl:col-12" style="padding: 0"
             *ngIf="vendorCreateForm.get('remitEmailSwitchEnable').value">
          <div class="field col-12 xl:col-4">
            <label class="label-wrapper" for="remitEmailAddress">Remittance Email Address*</label>
            <div class="p-inputgroup">
              <span class="p-float-label">
                <input maxlength="150" formControlName="remittanceEmail" id="remitEmailAddress" type="text"
                       pInputText blockSpace>
              </span>
            </div>
            <div class="p-invalid text-align-left"
                 *ngIf="vendorCreateForm.get('remittanceEmail').dirty &&
                 vendorCreateForm.get('remittanceEmail').hasError('required')">
              Remittance Email Address is required
            </div>
            <div class="p-invalid text-align-left"
                 *ngIf="vendorCreateForm.controls['remittanceEmail'].hasError('emailValidate')">Remittance Email must be
              a valid
              email address
            </div>
          </div>
        </div>


        <ng-container class="grid col-12" formArrayName="additionalDataPaymentInfo"
                      *ngIf="additionalDataPaymentInfo.length > 0">


          <ng-container
            *ngFor="let additionalField of vendorAdditionalDataArrayInPaymentInformation.controls; let i=index"
            [formGroupName]="i">

        <span class="field col-12 xl:col-4 md:col-3"
              *ngIf="commonUtil.checkUndefinedValues(additionalField.get('fieldValue').value,
           additionalDataPaymentInfo[i].docStatus, false)">


      <div *ngIf="appFieldType.LABEL === additionalDataPaymentInfo[i].fieldTypeId">
         <label class="label-wrapper">{{additionalDataPaymentInfo[i].fieldName}}</label>
        <span class="p-float-label">
            <input type="text" class="form-control" pInputText
                   [readonly]="true" readonly [value]="additionalDataPaymentInfo[i].value">
        </span>

      </div>

      <div *ngIf="appFieldType.TEXT_BOX === additionalDataPaymentInfo[i].fieldTypeId">
        <label class="label-wrapper"
               for="input_payment_{{i}}">{{additionalDataPaymentInfo[i].fieldName}}
          {{additionalDataPaymentInfo[i].required ? '*' : ''}}</label>
        <div class="p-inputgroup">
            <span class="p-float-label">
              <input formControlName="fieldValue" type="text" pInputText id="input_payment_{{i}}"
                     [maxLength]="additionalDataPaymentInfo[i].maxLength" class="place-holder-width"
                     [pKeyFilter]="commonUtil.buildRegex(additionalDataPaymentInfo[i].dataType)"
                     maxlength="{{additionalDataPaymentInfo[i].maxLength}}"
                     (keyup)="removeSpace.clearSpace(additionalField, 'fieldValue')">
            </span>
        </div>
      </div>

      <div>
        <div
          *ngIf="appFieldType.TEXT_AREA === additionalDataPaymentInfo[i].fieldTypeId">
          <label class="label-wrapper"
                 for="notes_payment_{{i}}">{{additionalDataPaymentInfo[i].fieldName}}
            {{additionalDataPaymentInfo[i].required ? '*' : ''}}</label>
      <div class="p-inputgroup">
          <span class="p-float-label">
            <textarea formControlName="fieldValue" id="notes_payment_{{i}}"
                      rows="{{additionalDataPaymentInfo[i].rowCount}}" pInputTextarea
                      [maxLength]="additionalDataPaymentInfo[i].maxLength"
                      class="place-holder-width"
                      (keyup)="removeSpace.clearSpace(additionalField, 'fieldValue')"></textarea>
          </span>
      </div>
    </div>
      </div>

          <div
            *ngIf="appFieldType.DROP_DOWN_FIELD === additionalDataPaymentInfo[i].fieldTypeId && additionalDataPaymentInfo[i].multiple === 'A'">
             <label class="label-wrapper" for="multiselect_{{i}}">Select {{additionalDataPaymentInfo[i].fieldName}}
               {{additionalDataPaymentInfo[i].required ? '*' : ''}}</label>
      <span class="p-float-label">
           <p-multiSelect [options]="additionalDataPaymentInfo[i].optionsList.data" optionDisabled="inactive"
                          id="additionalDataPaymentDropdownMultiSelect_{{i}}"
                          optionValue="id" inputId="additionalDataPaymentDropdownMultiSelect_{{i}}"
                          #additionalDataPaymentDropdownMultiSelect appendTo="body"
                          (onChange)="addNewAdditionalDropDownOption($event,additionalDataPaymentInfo[i],additionalField, additionalDataPaymentDropdownMultiSelect)"
                          (onClick)="commonUtil.isAllowedToTriggerClickEvent(additionalDataPaymentDropdownMultiSelect, additionalDataPaymentInfo[i]) ?
                          addNewAdditionalDropDownOption($event,additionalDataPaymentInfo[i],additionalField, additionalDataPaymentDropdownMultiSelect): null"
                          formControlName="fieldValue" optionLabel="name" [showToggleAll]="true" [filter]="true">
             <ng-template pTemplate="selectedItem">
                <div>{{additionalField.get('fieldValue').value.name}}</div>
             </ng-template>

             <ng-template let-multiselect pTemplate="item">
                 <div class="grid">
                     <div class="dropdown-list">{{multiselect.name}}</div>
                 </div>
             </ng-template>

              <ng-template pTemplate="footer" *ngIf="additionalDataPaymentInfo[i].createNew === 'A'">
                    <div class="grid dp-footer">
                      <div class="col-12 button-wrapper">
                        <button pButton class="p-button-sm" label="Add New"
                                (click)="addNewDropDown = true;
                           setSelectedAdditionalField(additionalDataPaymentInfo[i])"></button>
                      </div>
                    </div>
                  </ng-template>

           </p-multiSelect>

        </span>
      </div>


      <div
        *ngIf="appFieldType.DROP_DOWN_FIELD === additionalDataPaymentInfo[i].fieldTypeId && additionalDataPaymentInfo[i].multiple != 'A'">
           <label class="label-wrapper"
                  for="dropdown1_{{i}}">Select {{additionalDataPaymentInfo[i].fieldName}}
             {{additionalDataPaymentInfo[i].required ? '*' : ''}}</label>
      <span class="p-float-label">
           <p-dropdown [options]="additionalDataPaymentInfo[i].optionsList.data" [showClear]="true"
                       #additionalDataPaymentDropdown appendTo="body" optionDisabled="inactive"
                       class="vendor-dropdown" [virtualScroll]="true" virtualScrollItemSize="25"
                       (onChange)="addNewAdditionalDropDownOption($event,additionalDataPaymentInfo[i],additionalField, additionalDataPaymentDropdown);
                       commonUtil.isPressEnterInsideDropdown(additionalDataPaymentDropdown)"
                       id="dropdown1_payment_{{i}}" optionValue="id" optionLabel="name" [autoDisplayFirst]="false"
                       formControlName="fieldValue" inputId="dropdown1_payment_{{i}}" [filter]="true">

             <ng-template pTemplate="selectedItem">
                <div>{{additionalDataPaymentDropdown.selectedOption.name}}</div>
             </ng-template>

             <ng-template let-multiselect pTemplate="item">
                 <div class="grid">
                     <div class="dropdown-list">{{multiselect.name}}</div>
                 </div>
             </ng-template>

              <ng-template pTemplate="footer" *ngIf="additionalDataBasicInfo[i].createNew === 'A'">
                    <div class="grid dp-footer">
                      <div class="col-12 button-wrapper">
                        <button pButton class="p-button-sm" label="Add New"
                                (click)="addNewDropDown = true;
                           setSelectedAdditionalField(additionalDataBasicInfo[i])"></button>
                      </div>
                    </div>
                  </ng-template>

           </p-dropdown>
        </span>
      </div>

        <div *ngIf="appFieldType.FILE_INPUT === additionalDataPaymentInfo[i].fieldTypeId">
           <label class="label-wrapper" for="fileText">Upload {{additionalDataPaymentInfo[i].fieldName}} Here
             {{additionalDataPaymentInfo[i].required ? '*' : ''}}</label>
              <div class="p-inputgroup">
              <span class="p-float-label">
              <input [id]="'fileUploadH2'+ i" #fileInput2
                     (change)="commonUtil.changeFileInput($event,additionalField, additionalDataPaymentInfo[i],false, fileInput2)"
                     type="file" class="place-holder-width"
                     accept="{{additionalDataPaymentInfo[i].fileTypes}}" hidden>
              <input id="fileText_payment" formControlName="attachment" readonly type="text"
                     (click)="fileUploadClick('fileUploadH2', i)"
                     (keydown.enter)="fileUploadClick('fileUploadH2', i)"
                     style="border-radius: 6px 0 0 6px !important;"
                     class="place-holder-width"
                     [value]="fileInput2.files[0] ? fileInput2.files[0].name : null" pInputText>
              <button tabindex="-1" style="margin: 0 !important;height: 31px !important;" type="button" pButton
                      label="Browse" class="p-button file-browse p-button-sm"
                      (click)="fileUploadClick('fileUploadH2', i)"></button>
           <button tabindex="-1" pButton type="button" class="p-button-outlined p-button-sm"
                   icon="fa fa-close" *ngIf="fileInput2.files[0] != null"
                   (click)="fileInput2.value = null;
                   commonUtil.changeFileInput($event,additionalField, null,false, fileInput2)"></button>
             </span>
              </div>
        </div>

      <div *ngIf="appFieldType.DATE_FIELD=== additionalDataPaymentInfo[i].fieldTypeId">
          <label class="label-wrapper" for="dateField1_{{i}}">{{additionalDataPaymentInfo[i].fieldName}}
            {{additionalDataPaymentInfo[i].required ? '*' : ''}} </label>
      <div class="p-inputgroup">
            <span class="p-float-label">
              <p-calendar appTabindexMinusOne formControlName="fieldValue" id="dateField_payment_{{i}}"
                          class="place-holder-width" [showButtonBar]="true"
                          (onSelect)="formatDate($event, i, 'payment')" [showIcon]="true"></p-calendar>
               <button pButton type="button" class="p-button p-button-sm clear-button"
                       icon="fa fa-close" (click)="additionalField.get('fieldValue').reset()"></button>
            </span>
      </div>
    </div>

              <div *ngIf="appFieldType.RADIO_BUTTON === additionalDataPaymentInfo[i].fieldTypeId ">
                <div class="grid col-12" [style]="{'align-items': 'center'}">
                    <div>
            <span
              class="label-wrapper">{{additionalDataPaymentInfo[i].fieldName}}  {{additionalDataPaymentInfo[i].required ? '*' : ''}}</span>
          </div>
                  <div class="radio-container" *ngFor="let option of additionalDataPaymentInfo[i].options">
                    <label>
                      <input id="radio_payment" type="radio" value="{{option.optionValue}}" class="radioButton"
                             formControlName="fieldValue">
                      <span style="margin-left: 0.2rem; margin-right: 0.5rem"
                            for="radio_payment">{{' ' + option.optionValue}}</span>
                    </label>
                  </div>
                </div>
              </div>

                 <div *ngIf="appFieldType.CHECK_BOX === additionalDataPaymentInfo[i].fieldTypeId">
                     <label class="label-wrapper"
                            for="binary_payment">{{additionalDataPaymentInfo[i].fieldName}}{{additionalDataPaymentInfo[i].required ? '*' : ''}}</label>
        <div class="p-inputgroup" style="position:relative">
     <div class="field-checkbox">
           <p-checkbox name="checkBox" formControlName="fieldValue" id="binary_payment" binary="true"></p-checkbox>

          </div>
        </div>
      </div>

      <div class="p-invalid text-align-left"
           *ngIf="(additionalField.get('fieldValue').errors && additionalField.get('fieldValue').dirty) ||
(additionalField.get('attachment').errors && additionalField.get('attachment').dirty)">

         <div *ngIf="additionalField.get('fieldValue').dirty
             && additionalField.get('fieldValue').hasError('required')"> {{additionalDataPaymentInfo[i].fieldName}}
           is required
            </div>

            <div *ngIf="additionalField.get('attachment').dirty
             && additionalField.get('attachment').hasError('required')"> {{additionalDataPaymentInfo[i].fieldName}}
              is required
            </div>

        <div *ngIf="additionalField.get('fieldValue').hasError('isValidate')">
          Field require ({{appConstant.DATA_TYPE_PATTERN_MAP.get(additionalDataPaymentInfo[i].dataType)}}) type
        </div>
      </div>

        </span>
          </ng-container>
        </ng-container>

      </div>

      <div class="col-12 grid">
        <div class="xl:col-12">
          <h6 style="color: #73828A">Postal Address</h6>
        </div>

        <div class="field col-12 xl:col-6">
          <label class="label-wrapper" for="addressLine1">Address Line1 </label>
          <div class="p-inputgroup"
               [ngClass]="(isSelectedPaymentTypeAsCheckAndVirtualCard && !showAddress && !vendorCreateForm.get('address_line_1').value) ? 'isSelectedCheck':''">
            <span class="p-float-label">
              <input formControlName="address_line_1" maxlength="300" id="addressLine1"
                     (keyup)="removeSpace.clearSpace(vendorCreateForm, 'address_line_1')" type="text" pInputText>
            </span>
          </div>
          <small
            *ngIf="(isSelectedPaymentTypeAsCheckAndVirtualCard && !showAddress && !vendorCreateForm.get('address_line_1').value)"
            class="block">Please provide your Address Line1 (max 35 characters).</small>
          <div class="p-invalid text-align-left"
               *ngIf="vendorCreateForm.get('address_line_1').dirty && vendorCreateForm.get('address_line_1').errors">
            Address Line1 is required
          </div>
        </div>

        <div class="field col-12 xl:col-6">
          <label class="label-wrapper" for="addressLine2">Address Line2 </label>
          <div class="p-inputgroup">
            <span class="p-float-label">
              <input formControlName="address_line_2" maxlength="300"
                     (keyup)="removeSpace.clearSpace(vendorCreateForm, 'address_line_2')"
                     id="addressLine2" type="text" pInputText>
            </span>
          </div>
        </div>

        <div class="field col-12 xl:col-3">
          <label class="label-wrapper" for="city">City</label>
          <span class="p-float-label">
          <p-autoComplete delay="100" [minLength]="1" maxlength="200"
                          [ngClass]="(isSelectedPaymentTypeAsCheckAndVirtualCard && !showAddress && !vendorCreateForm.get('city').value) ? 'isSelectedCheck':''"
                          (keyup)="removeSpace.clearSpace(vendorCreateForm, 'city')"
                          [style]="{'width':'100%'}" formControlName="city"
                          [suggestions]="filteredGroups" [autoHighlight]="true" id="city"
                          (completeMethod)="filterCities($event)"
                          [multiple]="false" [dropdown]="false">
          </p-autoComplete>
          </span>
          <small
            *ngIf="(isSelectedPaymentTypeAsCheckAndVirtualCard && !showAddress && !vendorCreateForm.get('city').value)"
            class="block">Please provide your City (max 30 characters).</small>
        </div>

        <div class="field col-12 xl:col-3">
          <label class="label-wrapper" for="state">State</label>
          <span class="p-float-label">
          <p-autoComplete delay="100" [minLength]="1" maxlength="200"
                          [ngClass]="(isSelectedPaymentTypeAsCheckAndVirtualCard && !showAddress && !vendorCreateForm.get('state').value) ? 'isSelectedCheck':''"
                          (keyup)="removeSpace.clearSpace(vendorCreateForm, 'state')"
                          [style]="{'width':'100%'}" formControlName="state"
                          [suggestions]="filteredGroups" [autoHighlight]="true" id="state"
                          (completeMethod)="filterStates($event)"
                          [multiple]="false" [dropdown]="false">
          </p-autoComplete>
            </span>
          <small
            *ngIf="(isSelectedPaymentTypeAsCheckAndVirtualCard && !showAddress && !vendorCreateForm.get('state').value)"
            class="block">Please provide your State.</small>
        </div>

        <div class="field col-12 xl:col-3">
          <label class="label-wrapper" for="zipCode">Zip Code </label>
          <div class="p-inputgroup"
               [ngClass]="(isSelectedPaymentTypeAsCheckAndVirtualCard && !showAddress && !vendorCreateForm.get('zipcode').value) ? 'isSelectedCheck':''">
            <span class="p-float-label">
              <input formControlName="zipcode" (keyup)="removeSpace.clearSpace(vendorCreateForm, 'zipcode')"
                     id="zipCode" type="text" pInputText>
            </span>
          </div>
          <small
            *ngIf="(isSelectedPaymentTypeAsCheckAndVirtualCard && !showAddress && !vendorCreateForm.get('zipcode').value)"
            class="block">Please provide your Zip Code (max 10 characters).</small>
          <div class="p-invalid text-align-left" *ngIf="vendorCreateForm.get('zipcode').hasError('maxlength')">
            Zip Code must be less than 30 characters
          </div>
        </div>

        <div class=" field col-12 xl:col-3">
          <label class="label-wrapper" for="country">Select Country*</label>
          <span class="p-float-label">
               <p-dropdown #sCountry id="country" formControlName="country" showClear="true" [virtualScroll]="true"
                           (onChange)="commonUtil.isPressEnterInsideDropdown(sCountry)"
                           virtualScrollItemSize="25"
                           [autoDisplayFirst]="false" [options]="countries" [filter]="true" appendTo="body"
                           optionLabel="name" optionValue="id"></p-dropdown>

           </span>
          <div class="p-invalid text-align-left"
               *ngIf="vendorCreateForm.get('country').dirty && vendorCreateForm.get('country').errors">
            Country is required
          </div>
        </div>

        <ng-container class="grid col-12" formArrayName="additionalDataPostalAddress"
                      *ngIf="additionalDataPostalAddress.length>0">

          <ng-container class="field col-12 xl:col-3 md:col-3"
                        *ngFor="let additionalField of vendorAdditionalDataArrayInPostalAddress.controls; let i=index"
                        [formGroupName]="i">

              <span class="field col-12 xl:col-3 md:col-3"
                    *ngIf="commonUtil.checkUndefinedValues(additionalField.get('fieldValue').value,
           additionalDataPostalAddress[i].docStatus, false)">

      <div *ngIf="appFieldType.LABEL === additionalDataPostalAddress[i].fieldTypeId">
         <label class="label-wrapper">{{additionalDataPostalAddress[i].fieldName}}</label>
        <span class="p-float-label">
            <input type="text" class="form-control" pInputText
                   [readonly]="true" readonly [value]="additionalDataPostalAddress[i].value">
        </span>

      </div>

      <div *ngIf="appFieldType.TEXT_BOX === additionalDataPostalAddress[i].fieldTypeId">
           <label class="label-wrapper"
                  for="input2_{{i}}">{{additionalDataPostalAddress[i].fieldName}}
             {{additionalDataPostalAddress[i].required ? '*' : ''}}</label>
        <div class="p-inputgroup">
            <span class="p-float-label">
              <input formControlName="fieldValue" type="text" pInputText id="input2_{{i}}"
                     [maxLength]="additionalDataPostalAddress[i].maxLength" class="place-holder-width"
                     [pKeyFilter]="commonUtil.buildRegex(additionalDataPostalAddress[i].dataType)"
                     maxlength="{{additionalDataPostalAddress[i].maxLength}}"
                     (keyup)="removeSpace.clearSpace(additionalField, 'fieldValue')">
            </span>
        </div>
      </div>

      <div>
        <div
          *ngIf="appFieldType.TEXT_AREA === additionalDataPostalAddress[i].fieldTypeId">
          <label class="label-wrapper"
                 for="notes2_{{i}}">{{additionalDataPostalAddress[i].fieldName}}
            {{additionalDataPostalAddress[i].required ? '*' : ''}}</label>
      <div class="p-inputgroup">
          <span class="p-float-label">
            <textarea formControlName="fieldValue" id="notes2_{{i}}" rows="{{additionalDataPostalAddress[i].rowCount}}"
                      pInputTextarea
                      [maxLength]="additionalDataPostalAddress[i].maxLength"
                      class="place-holder-width"
                      (keyup)="removeSpace.clearSpace(additionalField, 'fieldValue')"></textarea>
          </span>
      </div>
    </div>
      </div>

                <div
                  *ngIf="appFieldType.DROP_DOWN_FIELD === additionalDataPostalAddress[i].fieldTypeId && additionalDataPostalAddress[i].multiple === 'A'">
                    <label class="label-wrapper"
                           for="multiselect_{{i}}">Select {{additionalDataPostalAddress[i].fieldName}}
                      {{additionalDataPostalAddress[i].required ? '*' : ''}}</label>
      <span class="p-float-label">
           <p-multiSelect [options]="additionalDataPostalAddress[i].optionsList.data" id="multiSelect2_{{i}}" optionDisabled="inactive"
                          optionValue="id" inputId="multiselect_{{i}}" #multiSelect2 appendTo="body"
                          (onChange)="addNewAdditionalDropDownOption($event,additionalDataPostalAddress[i],additionalField, multiSelect2)"
                          (onClick)="commonUtil.isAllowedToTriggerClickEvent(multiSelect2, additionalDataPostalAddress[i])?
                          addNewAdditionalDropDownOption($event,additionalDataPostalAddress[i],additionalField, multiSelect2): null"
                          formControlName="fieldValue" optionLabel="name" [showToggleAll]="true" [filter]="true">
             <ng-template pTemplate="selectedItem">
                <div>{{additionalField.get('fieldValue').value.name}}</div>
             </ng-template>

             <ng-template let-multiselect pTemplate="item">
                 <div class="grid">
                     <div class="dropdown-list">{{multiselect.name}}</div>
                 </div>
             </ng-template>

              <ng-template pTemplate="footer" *ngIf="additionalDataPostalAddress[i].createNew === 'A'">
                    <div class="grid dp-footer">
                      <div class="col-12 button-wrapper">
                        <button pButton class="p-button-sm" label="Add New"
                                (click)="addNewDropDown = true;
                           setSelectedAdditionalField(additionalDataPostalAddress[i])"></button>
                      </div>
                    </div>
                  </ng-template>

           </p-multiSelect>
        </span>
      </div>


      <div
        *ngIf="appFieldType.DROP_DOWN_FIELD === additionalDataPostalAddress[i].fieldTypeId && additionalDataPostalAddress[i].multiple != 'A'">
         <label class="label-wrapper"
                for="dropdown2_{{i}}">Select {{additionalDataPostalAddress[i].fieldName}}
           {{additionalDataPostalAddress[i].required ? '*' : ''}}</label>
      <span class="p-float-label">
           <p-dropdown [options]="additionalDataPostalAddress[i].optionsList.data" [showClear]="true" #dropdown2
                       class="vendor-dropdown" [virtualScroll]="true" virtualScrollItemSize="25" appendTo="body"
                       (onChange)="addNewAdditionalDropDownOption($event,additionalDataPostalAddress[i],additionalField, dropdown2);
                       commonUtil.isPressEnterInsideDropdown(dropdown2)" optionDisabled="inactive"
                       id="dropdown2_{{i}}" optionValue="id" optionLabel="name" [autoDisplayFirst]="false"
                       formControlName="fieldValue" inputId="dropdown2_{{i}}" [filter]="true">

             <ng-template pTemplate="selectedItem">
                <div>{{dropdown2.selectedOption.name}}</div>
             </ng-template>

             <ng-template let-multiselect pTemplate="item">
                 <div class="grid">
                     <div class="dropdown-list">{{multiselect.name}}</div>
                 </div>
             </ng-template>

              <ng-template pTemplate="footer" *ngIf="additionalDataBasicInfo[i].createNew === 'A'">
                    <div class="grid dp-footer">
                      <div class="col-12 button-wrapper">
                        <button pButton class="p-button-sm" label="Add New"
                                (click)="addNewDropDown = true;
                           setSelectedAdditionalField(additionalDataBasicInfo[i])"></button>
                      </div>
                    </div>
                  </ng-template>

           </p-dropdown>
        </span>
      </div>

        <div *ngIf="appFieldType.FILE_INPUT === additionalDataPostalAddress[i].fieldTypeId">
          <label class="label-wrapper" for="fileText">Upload {{additionalDataPostalAddress[i].fieldName}} Here
            {{additionalDataPostalAddress[i].required ? '*' : ''}}</label>
              <div class="p-inputgroup">
              <span class="p-float-label">
              <input [id]="'fileUploadH3'+ i" #fileInput3
                     (change)="commonUtil.changeFileInput($event,additionalField, additionalDataPostalAddress[i],false, fileInput3)"
                     type="file" class="place-holder-width"
                     accept="{{additionalDataPostalAddress[i].fileTypes}}" hidden>
              <input id="fileText2" formControlName="attachment" readonly type="text"
                     (click)="fileUploadClick('fileUploadH3', i)"
                     (keydown.enter)="fileUploadClick('fileUploadH3', i)"
                     style="border-radius: 6px 0 0 6px !important;"
                     class="place-holder-width"
                     [value]="fileInput3.files[0] ? fileInput3.files[0].name : null" pInputText>
              <button tabindex="-1" style="margin: 0 !important;height: 31px !important;" type="button" pButton
                      label="Browse" class="p-button file-browse p-button-sm"
                      (click)="fileUploadClick('fileUploadH3', i)"></button>
           <button tabindex="-1" *ngIf="fileInput3.files[0] != null" pButton type="button"
                   class="p-button-outlined p-button-sm "
                   icon="fa fa-close"
                   (click)="fileInput3.value = null;
                   commonUtil.changeFileInput($event,additionalField, null,false, fileInput3)">
           </button>
             </span>
              </div>
        </div>

      <div *ngIf="appFieldType.DATE_FIELD=== additionalDataPostalAddress[i].fieldTypeId">
         <label class="label-wrapper" for="dateField2_{{i}}">{{additionalDataPostalAddress[i].fieldName}}
           {{additionalDataPostalAddress[i].required ? '*' : ''}} </label>
      <div class="p-inputgroup">
            <span class="p-float-label">
              <p-calendar appTabindexMinusOne formControlName="fieldValue" id="dateField2_{{i}}"
                          class="place-holder-width" [showButtonBar]="true"
                          (onSelect)="formatDate($event, i, 'postal')" [showIcon]="true"></p-calendar>
               <button pButton type="button" class="p-button p-button-sm clear-button"
                       icon="fa fa-close" (click)="additionalField.get('fieldValue').reset()"></button>
            </span>
      </div>
    </div>

              <div *ngIf="appFieldType.RADIO_BUTTON === additionalDataPostalAddress[i].fieldTypeId ">
                <div class="grid col-12" [style]="{'align-items': 'center'}">
                    <div>
            <span
              class="label-wrapper">{{additionalDataPostalAddress[i].fieldName}} {{additionalDataPostalAddress[i].required ? '*' : ''}}</span>
          </div>
                  <div class="radio-container" *ngFor="let option of additionalDataPostalAddress[i].options">
                    <label>
                      <input id="male2" type="radio" value="{{option.optionValue}}" class="radioButton"
                             formControlName="fieldValue">
                      <span style="margin-left: 0.2rem; margin-right: 0.5rem"
                            for="male1">{{' ' + option.optionValue}}</span>
                    </label>
                  </div>
                </div>
              </div>

                 <div *ngIf="appFieldType.CHECK_BOX === additionalDataPostalAddress[i].fieldTypeId">
        <div class="p-inputgroup" style="position:relative">
     <div class="field-checkbox">
           <p-checkbox name="checkBox" formControlName="fieldValue" id="binary2" binary="true"></p-checkbox>
          <label
            for="binary2">{{additionalDataPostalAddress[i].fieldName}}{{additionalDataPostalAddress[i].required ? '*' : ''}}</label>
          </div>
        </div>
      </div>

      <div class="p-invalid text-align-left"
           *ngIf="(additionalField.get('fieldValue').errors && additionalField.get('fieldValue').dirty) ||
(additionalField.get('attachment').errors && additionalField.get('attachment').dirty)">

         <div *ngIf="additionalField.get('fieldValue').dirty
             && additionalField.get('fieldValue').hasError('required')"> {{additionalDataPostalAddress[i].fieldName}}
           is required
            </div>

            <div *ngIf="additionalField.get('attachment').dirty
             && additionalField.get('attachment').hasError('required')"> {{additionalDataPostalAddress[i].fieldName}}
              is required
            </div>

        <div *ngIf="additionalField.get('fieldValue').hasError('isValidate')">
          Field require ({{appConstant.DATA_TYPE_PATTERN_MAP.get(additionalDataPostalAddress[i].dataType)}}) type
        </div>
      </div>
              </span>
          </ng-container>
        </ng-container>

        <span class="col-12">
          <p-inputSwitch class="custom-checkbox" [styleClass]="vendorCreateForm.get('showRemit').value ?
          'card-overflow': null" formControlName="showRemit"></p-inputSwitch>
          <span class="col-10 costume-checkbox" style="padding: 10px">Please check if the remit address is different from above</span>
        </span>

      </div>


      <div class="p-fluid">
        <div class="col-12 grid " *ngIf="vendorCreateForm.get('showRemit').value">

          <div class="xl:col-12">
            <h6 style="color: #73828A">Remit Address</h6>
          </div>

          <div class="field col-12 xl:col-6">
            <label class="label-wrapper" for="addressLine1">Address Line1 </label>
            <div class="p-inputgroup"
                 [ngClass]="(isSelectedPaymentTypeAsCheckAndVirtualCard && showAddress && !vendorCreateForm.get('r_address_line_1').value) ? 'isSelectedCheck':''">
            <span class="p-float-label">
              <input formControlName="r_address_line_1" maxlength="300"
                     (keyup)="removeSpace.clearSpace(vendorCreateForm, 'r_address_line_1')"
                     id="rAddressLine1" type="text" pInputText>
            </span>
            </div>
            <small
              *ngIf="(isSelectedPaymentTypeAsCheckAndVirtualCard && showAddress && !vendorCreateForm.get('r_address_line_1').value)"
              class="block">Please provide your Address Line1 (max 35 characters).</small>
            <div class="p-invalid text-align-left"
                 *ngIf="vendorCreateForm.get('r_address_line_1').dirty && vendorCreateForm.get('r_address_line_1').errors">
              Address Line1 is required
            </div>
          </div>

          <div class="field col-12 xl:col-6">
            <label class="label-wrapper" for="addressLine2">Address Line2 </label>
            <div class="p-inputgroup">
            <span class="p-float-label">
              <input formControlName="r_address_line_2" maxlength="300"
                     (keyup)="removeSpace.clearSpace(vendorCreateForm, 'r_address_line_2')"
                     id="rAddressLine2" type="text" pInputText>
            </span>
            </div>
          </div>

          <div class="field col-12 xl:col-3">
            <label class="label-wrapper" for="rcity">City</label>
            <span class="p-float-label">
            <p-autoComplete delay="100" [minLength]="1" maxlength="200"
                            (keyup)="removeSpace.clearSpace(vendorCreateForm, 'r_city')"
                            [style]="{'width':'100%'}" formControlName="r_city"
                            [ngClass]="(isSelectedPaymentTypeAsCheckAndVirtualCard && showAddress && !vendorCreateForm.get('r_city').value) ? 'isSelectedCheck':''"
                            [suggestions]="filteredGroups" dataKey="id" [autoHighlight]="true"
                            (completeMethod)="filterCities($event)" id="rcity"
                            [multiple]="false" [dropdown]="false">
            </p-autoComplete>
             </span>
            <small
              *ngIf="(isSelectedPaymentTypeAsCheckAndVirtualCard && showAddress && !vendorCreateForm.get('r_city').value)"
              class="block">Please provide your City (max 30 characters).</small>
          </div>


          <div class="field col-12 xl:col-3">
            <label class="label-wrapper" for="rstate">State</label>
            <span class="p-float-label">
            <p-autoComplete delay="100" [minLength]="1" maxlength="200"
                            (keyup)="removeSpace.clearSpace(vendorCreateForm, 'r_state')"
                            [style]="{'width':'100%'}" formControlName="r_state"
                            [ngClass]="(isSelectedPaymentTypeAsCheckAndVirtualCard && showAddress && !vendorCreateForm.get('r_state').value) ? 'isSelectedCheck':''"
                            [suggestions]="filteredGroups" [autoHighlight]="true" id="rstate"
                            (completeMethod)="filterStates($event)" [autocomplete]="false"
                            [multiple]="false" [dropdown]="false">
            </p-autoComplete>
            </span>
            <small
              *ngIf="(isSelectedPaymentTypeAsCheckAndVirtualCard && showAddress && !vendorCreateForm.get('r_state').value)"
              class="block">Please provide your State.</small>
          </div>

          <div class="field col-12 xl:col-3">
            <label class="label-wrapper" for="zipCode">Zip Code </label>
            <div class="p-inputgroup"
                 [ngClass]="(isSelectedPaymentTypeAsCheckAndVirtualCard && showAddress && !vendorCreateForm.get('r_zipcode').value) ? 'isSelectedCheck':''">
            <span class="p-float-label">
              <input formControlName="r_zipcode" (keyup)="removeSpace.clearSpace(vendorCreateForm, 'r_zipcode')"
                     id="rZipCode" type="text"
                     [ngClass]="(isSelectedPaymentTypeAsCheckAndVirtualCard && showAddress && !vendorCreateForm.get('r_zipcode').value) ? 'isSelectedCheck':''"
                     pInputText>
            </span>
            </div>
            <small
              *ngIf="(isSelectedPaymentTypeAsCheckAndVirtualCard && showAddress && !vendorCreateForm.get('r_zipcode').value)"
              class="block">Please provide your Zip Code (max 10 characters).</small>
            <div class="p-invalid text-align-left" *ngIf="vendorCreateForm.get('r_zipcode').hasError('maxlength')">
              Zip Code must be less than 30 characters.
            </div>
          </div>

          <div class=" field col-12 xl:col-3">
            <label class="label-wrapper" for="country">Select Country*</label>
            <span class="p-float-label">
               <p-dropdown #sCountry id="rCountry" formControlName="r_country" showClear="true" [virtualScroll]="true"
                           (onChange)="commonUtil.isPressEnterInsideDropdown(sCountry)"
                           virtualScrollItemSize="25"
                           [autoDisplayFirst]="false" [options]="countries" [filter]="true" appendTo="body"
                           optionLabel="name" optionValue="id"></p-dropdown>

           </span>
            <div *ngIf="vendorCreateForm.get('r_country').dirty && vendorCreateForm.get('r_country').hasError('required')"
                 class="p-invalid text-align-left">
              Country is required
            </div>
          </div>

          <ng-container class="grid col-12" formArrayName="additionalDataRemitAddress"
                        *ngIf="additionalDataRemitAddress.length>0">
            <ng-container class="field col-12 xl:col-3 md:col-3"
                          *ngFor="let additionalField of vendorAdditionalDataArrayInRemitAddress.controls; let i=index"
                          [formGroupName]="i">

              <span class="field col-12 xl:col-3 md:col-3"
                    *ngIf="commonUtil.checkUndefinedValues(additionalField.get('fieldValue').value,
           additionalDataRemitAddress[i].docStatus, false)">

      <div *ngIf="appFieldType.LABEL === additionalDataRemitAddress[i].fieldTypeId">
         <label class="label-wrapper">{{additionalDataRemitAddress[i].fieldName}}</label>
        <span class="p-float-label">
            <input type="text" class="form-control" pInputText
                   [readonly]="true" readonly [value]="additionalDataRemitAddress[i].value">

        </span>
      </div>

      <div *ngIf="appFieldType.TEXT_BOX === additionalDataRemitAddress[i].fieldTypeId">
         <label class="label-wrapper"
                for="input3_{{i}}">{{additionalDataRemitAddress[i].fieldName}}
           {{additionalDataRemitAddress[i].required ? '*' : ''}}</label>
        <div class="p-inputgroup">
            <span class="p-float-label">
              <input formControlName="fieldValue" type="text" pInputText id="input3_{{i}}"
                     [maxLength]="additionalDataRemitAddress[i].maxLength" class="place-holder-width"
                     [pKeyFilter]="commonUtil.buildRegex(additionalDataRemitAddress[i].dataType)"
                     maxlength="{{additionalDataRemitAddress[i].maxLength}}"
                     (keyup)="removeSpace.clearSpace(additionalField, 'fieldValue')">
            </span>
        </div>
      </div>

      <div>
        <div
          *ngIf="appFieldType.TEXT_AREA === additionalDataRemitAddress[i].fieldTypeId">
           <label class="label-wrapper"
                  for="notes3_{{i}}">{{additionalDataRemitAddress[i].fieldName}}
             {{additionalDataRemitAddress[i].required ? '*' : ''}}</label>
      <div class="p-inputgroup">
          <span class="p-float-label">
            <textarea formControlName="fieldValue" id="notes3_{{i}}"
                      rows="{{additionalDataRemitAddress[i].rowCount}}"
                      pInputTextarea
                      [maxLength]="additionalDataRemitAddress[i].maxLength"
                      class="place-holder-width"
                      (keyup)="removeSpace.clearSpace(additionalField, 'fieldValue')"></textarea>
          </span>
      </div>
    </div>
      </div>
                <div
                  *ngIf="appFieldType.DROP_DOWN_FIELD === additionalDataRemitAddress[i].fieldTypeId && additionalDataRemitAddress[i].multiple === 'A'">
                     <label class="label-wrapper"
                            for="multiselect_{{i}}">Select {{additionalDataRemitAddress[i].fieldName}}
                       {{additionalDataRemitAddress[i].required ? '*' : ''}}</label>
      <span class="p-float-label">
           <p-multiSelect [options]="additionalDataRemitAddress[i].optionsList.data" id="multiSelect3_{{i}}"
                          optionValue="id" inputId="multiSelect3_{{i}}" #multiSelect3 appendTo="body" optionDisabled="inactive"
                          (onChange)="addNewAdditionalDropDownOption($event,additionalDataRemitAddress[i],additionalField, multiSelect3)"
                          (onClick)="commonUtil.isAllowedToTriggerClickEvent(multiSelect3, additionalDataRemitAddress[i]) ?
                          addNewAdditionalDropDownOption($event,additionalDataRemitAddress[i],additionalField, multiSelect3): null"
                          formControlName="fieldValue" optionLabel="name" [showToggleAll]="true" [filter]="true">
             <ng-template pTemplate="selectedItem">
                <div>{{additionalField.get('fieldValue').value.name}}</div>
             </ng-template>

             <ng-template let-multiselect pTemplate="item">
                 <div class="grid">
                     <div class="dropdown-list">{{multiselect.name}}</div>
                 </div>
             </ng-template>

             <ng-template pTemplate="footer" *ngIf="additionalDataRemitAddress[i].createNew === 'A'">
                    <div class="grid dp-footer">
                      <div class="col-12 button-wrapper">
                        <button pButton class="p-button-sm" label="Add New"
                                (click)="addNewDropDown = true;
                           setSelectedAdditionalField(additionalDataRemitAddress[i])"></button>
                      </div>
                    </div>
                  </ng-template>

           </p-multiSelect>
        </span>
      </div>

      <div
        *ngIf="appFieldType.DROP_DOWN_FIELD === additionalDataRemitAddress[i].fieldTypeId && additionalDataRemitAddress[i].multiple != 'A'">
         <label class="label-wrapper"
                for="dropdown3_{{i}}">Select {{additionalDataRemitAddress[i].fieldName}}
           {{additionalDataRemitAddress[i].required ? '*' : ''}}</label>
      <span class="p-float-label">
           <p-dropdown [options]="additionalDataRemitAddress[i].optionsList.data" [showClear]="true" #dropdown3
                       class="vendor-dropdown" [virtualScroll]="true" virtualScrollItemSize="25" appendTo="body"
                       (onChange)="addNewAdditionalDropDownOption($event,additionalDataRemitAddress[i],additionalField, dropdown3);
                       commonUtil.isPressEnterInsideDropdown(dropdown3)" optionDisabled="inactive"
                       id="dropdown3_{{i}}" optionValue="id" optionLabel="name" [autoDisplayFirst]="false"
                       formControlName="fieldValue" inputId="dropdown3_{{i}}" [filter]="true">

             <ng-template pTemplate="selectedItem">
                <div>{{dropdown3.selectedOption.name}}</div>
             </ng-template>

             <ng-template let-multiselect pTemplate="item">
                 <div class="grid">
                     <div class="dropdown-list">{{multiselect.name}}</div>
                 </div>
             </ng-template>

             <ng-template pTemplate="footer" *ngIf="additionalDataRemitAddress[i].createNew === 'A'">
                    <div class="grid dp-footer">
                      <div class="col-12 button-wrapper">
                        <button pButton class="p-button-sm" label="Add New"
                                (click)="addNewDropDown = true;
                           setSelectedAdditionalField(additionalDataRemitAddress[i])"></button>
                      </div>
                    </div>
                  </ng-template>

           </p-dropdown>
        </span>
      </div>

        <div *ngIf="appFieldType.FILE_INPUT === additionalDataRemitAddress[i].fieldTypeId">
           <label class="label-wrapper" for="fileText">Upload {{additionalDataRemitAddress[i].fieldName}} Here
             {{additionalDataRemitAddress[i].required ? '*' : ''}}</label>
              <div class="p-inputgroup">
              <span class="p-float-label">
              <input [id]="'fileUploadH4'+ i" #fileInput4
                     (change)="commonUtil.changeFileInput($event,additionalField, additionalDataRemitAddress[i],false, fileInput4)"
                     type="file" class="place-holder-width"
                     accept="{{additionalDataRemitAddress[i].fileTypes}}" hidden>
              <input id="fileText3" formControlName="attachment" readonly type="text"
                     (click)="fileUploadClick('fileUploadH4', i)"
                     (keydown.enter)="fileUploadClick('fileUploadH4', i)"
                     style="border-radius: 6px 0 0 6px !important;"
                     class="place-holder-width"
                     [value]="fileInput4.files[0] ? fileInput4.files[0].name : null" pInputText>
              <button tabindex="-1" style="margin: 0 !important;height: 31px !important;" type="button" pButton
                      label="Browse" class="p-button file-browse p-button-sm"
                      (click)="fileUploadClick('fileUploadH4', i)"></button>
           <button tabindex="-1" pButton type="button" class="p-button-outlined p-button-sm"
                   icon="fa fa-close"
                   *ngIf="fileInput4.files[0] != null"
                   (click)="fileInput4.value = null; additionalField.get('attachment').reset()"></button>
             </span>
              </div>
        </div>

      <div *ngIf="appFieldType.DATE_FIELD=== additionalDataRemitAddress[i].fieldTypeId">
        <label class="label-wrapper" for="dateField3_{{i}}">{{additionalDataRemitAddress[i].fieldName}}
          {{additionalDataRemitAddress[i].required ? '*' : ''}} </label>
      <div class="p-inputgroup">
            <span class="p-float-label">
              <p-calendar appTabindexMinusOne formControlName="fieldValue" id="dateField3_{{i}}"
                          class="place-holder-width" [showButtonBar]="true"
                          (onSelect)="formatDate($event, i, 'remit')" [showIcon]="true"></p-calendar>
               <button pButton type="button" class="p-button p-button-sm clear-button"
                       icon="fa fa-close" (click)="additionalField.get('fieldValue').reset()"></button>
            </span>
      </div>
    </div>

              <div *ngIf="appFieldType.RADIO_BUTTON === additionalDataRemitAddress[i].fieldTypeId ">
                <div class="grid col-12" [style]="{'align-items': 'center'}">
                    <div>
            <span
              class="label-wrapper">{{additionalDataRemitAddress[i].fieldName}}{{additionalDataRemitAddress[i].required ? '*' : ''}}</span>
          </div>
                  <div class="radio-container" *ngFor="let option of additionalDataRemitAddress[i].options">
                    <label>
                      <input id="male3" type="radio" value="{{option.optionValue}}" class="radioButton"
                             formControlName="fieldValue">
                      <span style="margin-left: 0.2rem; margin-right: 0.5rem"
                            for="male1">{{' ' + option.optionValue}}</span>
                    </label>
                  </div>
                </div>
              </div>

                 <div *ngIf="appFieldType.CHECK_BOX === additionalDataRemitAddress[i].fieldTypeId">
        <div class="p-inputgroup" style="position:relative">
     <div class="field-checkbox">
           <p-checkbox name="checkBox" formControlName="fieldValue" id="binary3" binary="true"></p-checkbox>
          <label
            for="binary3">{{additionalDataRemitAddress[i].fieldName}}{{additionalDataRemitAddress[i].required ? '*' : ''}}</label>
          </div>
        </div>
      </div>

      <div class="p-invalid text-align-left"
           *ngIf="(additionalField.get('fieldValue').errors && additionalField.get('fieldValue').dirty) ||
(additionalField.get('attachment').errors && additionalField.get('attachment').dirty)">

         <div *ngIf="additionalField.get('fieldValue').dirty
             && additionalField.get('fieldValue').hasError('required')"> {{additionalDataRemitAddress[i].fieldName}}
           is required
            </div>

            <div *ngIf="additionalField.get('attachment').dirty
             && additionalField.get('attachment').hasError('required')"> {{additionalDataRemitAddress[i].fieldName}}
              is required
            </div>

        <div *ngIf="additionalField.get('fieldValue').hasError('isValidate')">
          Field require ({{appConstant.DATA_TYPE_PATTERN_MAP.get(additionalDataRemitAddress[i].dataType)}}) type
        </div>
      </div>
              </span>
            </ng-container>
          </ng-container>

          <div class="col-3"></div>

        </div>

      </div>


      <div class="col-12 grid" *ngIf="w9Information">
        <div class="col-12">
          <h6 style="color: #73828A">W9 Form Information</h6>
        </div>

        <div class=" field col-12 xl:col-6">
          <label class="label-wrapper" for="taxClassifications">Select Federal Tax Classification </label>
          <span class="p-float-label">
           <p-dropdown #federelTax inputId="taxClassification" [filter]="true" [autoDisplayFirst]="false"
                       [virtualScroll]="true"
                       (onChange)="commonUtil.isPressEnterInsideDropdown(federelTax)"
                       virtualScrollItemSize="25"
                       [options]="taxClassifications" id="taxClassifications" optionValue="id" [showClear]="true"
                       formControlName="taxClassification" optionLabel="name"></p-dropdown>
        </span>
        </div>

        <div class="field col-12 xl:col-6">
          <label class="label-wrapper" for="fileText">Upload W9 Here </label>
          <div class="p-inputgroup">
            <span class="p-float-label">
            <input id="fileUpload" #w9Form formControlName="w9FormName" accept="application/pdf"
                   (change)="fileUpload1($event)" type="file" hidden>
            <input id="fileText" readonly
                   onClick="document.getElementById('fileUpload').click()"
                   (keydown.enter)="document.getElementById('fileUpload').click()"
                   [value]="w9Form.files[0] ? w9Form.files[0].name : null" type="text" pInputText
                   style="border-radius: 6px 0 0 6px !important;">
            <button tabindex="-1" type="button" pButton label="Browse" class="p-button file-browse p-button-sm"
                    onClick="document.getElementById('fileUpload').click()"></button>
                   <button *ngIf="w9Form.files[0] != null" tabindex="-1" pButton type="button"
                           class="p-button-outlined p-button-sm"
                           icon="fa fa-close" (click)="w9Form.value = null; clearW9Attachment()"></button>
           </span>
          </div>
        </div>

        <div class="field col-12 xl:col-3">
          <label class="label-wrapper" for="securityNumber">Social Security Number </label>
          <div class="p-inputgroup ">
            <span class="p-float-label ">
              <p-inputMask class="p-fluid width-max"
                           (keyup)="checkVendorSsnAvailability(); removeSpace.clearSpace(vendorCreateForm, 'socialSecNo')"
                           mask="***-**-****" formControlName="socialSecNo" id="securityNumber" type="text"
                           [disabled]="isSocialNoDisabled"></p-inputMask>
            </span>
          </div>
          <div class="p-invalid text-align-left" *ngIf="isVendorSsnAvailable">
            Social Security Number already exist, Please enter new one
          </div>
        </div>

        <div class="field col-12 xl:col-3">
          <label class="label-wrapper" for="employeeId">Employee ID Number (**-*******)</label>
          <div class="p-inputgroup">
            <span class="p-float-label">
              <input (keyup)="checkVendorEmployeeAvailability(); removeSpace.clearSpace(vendorCreateForm, 'empIdNo')"
                     class="p-fluid width-max" formControlName="empIdNo" id="employeeId"
                     [disabled]="isEmployeeIdDisabled" pInputText type="text">
            </span>
          </div>
          <div class="p-invalid text-align-left" *ngIf="isVendorEmpNoAvailable">
            Employee ID already exist, Please enter new one
          </div>
        </div>


        <div class="field col-12 xl:col-3">
          <label class="label-wrapper" for="exemptPayCode">Exempt Payee Code</label>
          <div class="p-inputgroup">
            <span class="p-float-label">
              <input formControlName="exemptPayeeCode" id="exemptPayCode"
                     (keyup)="removeSpace.clearSpace(vendorCreateForm, 'exemptPayeeCode')"
                     type="text" pInputText>
            </span>
          </div>
          <div class="p-invalid text-align-left "
               *ngIf="vendorCreateForm.get('exemptPayeeCode').hasError('maxlength')">
            Payee Code must be less than 40 characters
          </div>
        </div>

        <div class="field col-12 xl:col-3">
          <label for="ExemptionReportCode" class="label-responsive label-wrapper">Exemption From FACTA Report
            Code</label>
          <div class="p-inputgroup">
            <span class="p-float-label">
              <input formControlName="fatcaReportingCode"
                     (keyup)="removeSpace.clearSpace(vendorCreateForm, 'fatcaReportingCode')"
                     id="ExemptionReportCode" type="text" pInputText>
            </span>
          </div>
          <div class="p-invalid text-align-left"
               *ngIf="vendorCreateForm.get('fatcaReportingCode').hasError('maxlength')">
            FACTA Report Code must be less than 40 characters
          </div>
        </div>

        <ng-container class="grid col-12" formArrayName="additionalDataW9Info"
                      *ngIf="additionalDataW9Info.length>0">
          <ng-container *ngFor="let additionalField of vendorAdditionalDataArrayInW9Form.controls; let i=index"
                        [formGroupName]="i">

              <span class="field col-12 xl:col-3 md:col-3"
                    *ngIf="commonUtil.checkUndefinedValues(additionalField.get('fieldValue').value,
           additionalDataW9Info[i].docStatus, false)">

      <div *ngIf="appFieldType.LABEL === additionalDataW9Info[i].fieldTypeId">
         <label class="label-wrapper">{{additionalDataW9Info[i].fieldName}}</label>
        <span class="p-float-label">
            <input type="text" class="form-control" pInputText
                   [readonly]="true" readonly [value]="additionalDataW9Info[i].value">
        </span>

      </div>

      <div *ngIf="appFieldType.TEXT_BOX === additionalDataW9Info[i].fieldTypeId">
            <label class="label-wrapper"
                   for="input4_{{i}}">{{additionalDataW9Info[i].fieldName}}
              {{additionalDataW9Info[i].required ? '*' : ''}}</label>
        <div class="p-inputgroup">
            <span class="p-float-label">
              <input formControlName="fieldValue" type="text" pInputText id="input4_{{i}}"
                     [maxLength]="additionalDataW9Info[i].maxLength" class="place-holder-width"
                     [pKeyFilter]="commonUtil.buildRegex(additionalDataW9Info[i].dataType)"
                     maxlength="{{additionalDataW9Info[i].maxLength}}"
                     (keyup)="removeSpace.clearSpace(additionalField, 'fieldValue')">
            </span>
        </div>
      </div>

      <div>
        <div
          *ngIf="appFieldType.TEXT_AREA === additionalDataW9Info[i].fieldTypeId">
          <label class="label-wrapper"
                 for="notes4_{{i}}">{{additionalDataW9Info[i].fieldName}}
            {{additionalDataW9Info[i].required ? '*' : ''}}</label>
      <div class="p-inputgroup">
          <span class="p-float-label">
            <textarea formControlName="fieldValue" id="notes4_{{i}}"
                      rows="{{additionalDataW9Info[i].rowCount}}" pInputTextarea
                      [maxLength]="additionalDataW9Info[i].maxLength"
                      class="place-holder-width"
                      (keyup)="removeSpace.clearSpace(additionalField, 'fieldValue')"></textarea>
          </span>
      </div>
    </div>
      </div>
                <div
                  *ngIf="appFieldType.DROP_DOWN_FIELD === additionalDataW9Info[i].fieldTypeId && additionalDataW9Info[i].multiple === 'A'">
                    <label class="label-wrapper" for="multiselect_{{i}}">Select {{additionalDataW9Info[i].fieldName}}
                      {{additionalDataW9Info[i].required ? '*' : ''}}</label>
      <span class="p-float-label">
           <p-multiSelect [options]="additionalDataW9Info[i].optionsList.data" id="multiselect4_{{i}}"
                          optionValue="id" inputId="multiselect_{{i}}" #multiSelect4 appendTo="body" optionDisabled="inactive"
                          (onChange)="addNewAdditionalDropDownOption($event,additionalDataW9Info[i],additionalField, multiSelect4)"
                          (onClick)="commonUtil.isAllowedToTriggerClickEvent(multiSelect4, additionalDataW9Info[i])?
                           addNewAdditionalDropDownOption($event,additionalDataW9Info[i],additionalField, multiSelect4): null"
                          formControlName="fieldValue" optionLabel="name" [showToggleAll]="true" [filter]="true">
             <ng-template pTemplate="selectedItem">
                <div>{{additionalField.get('fieldValue').value.name}}</div>
             </ng-template>

             <ng-template let-multiselect pTemplate="item">
                 <div class="grid">
                     <div class="dropdown-list">{{multiselect.name}}</div>
                 </div>
             </ng-template>


               <ng-template pTemplate="footer" *ngIf="additionalDataW9Info[i].createNew === 'A'">
                    <div class="grid dp-footer">
                      <div class="col-12 button-wrapper">
                        <button pButton class="p-button-sm" label="Add New"
                                (click)="addNewDropDown = true;
                           setSelectedAdditionalField(additionalDataW9Info[i])"></button>
                      </div>
                    </div>
                  </ng-template>

           </p-multiSelect>
        </span>
      </div>

      <div
        *ngIf="appFieldType.DROP_DOWN_FIELD === additionalDataW9Info[i].fieldTypeId && additionalDataW9Info[i].multiple != 'A'">
        <label class="label-wrapper"
               for="dropdown4_{{i}}">Select {{additionalDataW9Info[i].fieldName}}
          {{additionalDataW9Info[i].required ? '*' : ''}}</label>
      <span class="p-float-label">
           <p-dropdown [options]="additionalDataW9Info[i].optionsList.data" [showClear]="true" #dropdown3
                       class="vendor-dropdown" [virtualScroll]="true" virtualScrollItemSize="25" appendTo="body"
                       (onChange)="addNewAdditionalDropDownOption($event,additionalDataW9Info[i],additionalField, dropdown3);
                       commonUtil.isPressEnterInsideDropdown(dropdown3)" optionDisabled="inactive"
                       id="dropdown4_{{i}}" optionValue="id" optionLabel="name" [autoDisplayFirst]="false"
                       formControlName="fieldValue" inputId="dropdown_{{i}}" [filter]="true">

             <ng-template pTemplate="selectedItem">
                <div>{{dropdown3.selectedOption.name}}</div>
             </ng-template>

             <ng-template let-multiselect pTemplate="item">
                 <div class="grid">
                     <div class="dropdown-list">{{multiselect.name}}</div>
                 </div>
             </ng-template>

               <ng-template pTemplate="footer" *ngIf="additionalDataW9Info[i].createNew === 'A'">
                    <div class="grid dp-footer">
                      <div class="col-12 button-wrapper">
                        <button pButton class="p-button-sm" label="Add New"
                                (click)="addNewDropDown = true;
                           setSelectedAdditionalField(additionalDataW9Info[i])"></button>
                      </div>
                    </div>
                  </ng-template>

           </p-dropdown>
        </span>
      </div>

        <div *ngIf="appFieldType.FILE_INPUT === additionalDataW9Info[i].fieldTypeId">
           <label class="label-wrapper" for="fileText">Upload {{additionalDataW9Info[i].fieldName}} Here
             {{additionalDataW9Info[i].required ? '*' : ''}}</label>
              <div class="p-inputgroup">
              <span class="p-float-label">
              <input [id]="'fileUploadH5'+ i" #fileInput5
                     (change)="commonUtil.changeFileInput($event,additionalField, additionalDataW9Info[i],false, fileInput5)"
                     type="file" class="place-holder-width"
                     accept="{{additionalDataW9Info[i].fileTypes}}" hidden>
              <input id="fileText4" formControlName="attachment" readonly type="text"
                     (click)="fileUploadClick('fileUploadH5', i)"
                     (keydown.enter)="fileUploadClick('fileUploadH5', i)"
                     style="border-radius: 6px 0 0 6px !important;"
                     class="place-holder-width"
                     [value]="fileInput5.files[0] ? fileInput5.files[0].name : null" pInputText>
              <button tabindex="-1" style="margin: 0 !important;height: 31px !important;" type="button" pButton
                      label="Browse" class="p-button file-browse p-button-sm"
                      (click)="fileUploadClick('fileUploadH5', i)"></button>
           <button tabindex="-1" *ngIf="fileInput5.files[0] != null" pButton type="button"
                   class="p-button-outlined p-button-sm"
                   icon="fa fa-close"
                   (click)="fileInput5.value = null; commonUtil.changeFileInput($event,additionalField, null,false, fileInput5)"></button>
             </span>
              </div>
        </div>

      <div *ngIf="appFieldType.DATE_FIELD=== additionalDataW9Info[i].fieldTypeId">
         <label class="label-wrapper" for="dateField4_{{i}}">{{additionalDataW9Info[i].fieldName}}
           {{additionalDataW9Info[i].required ? '*' : ''}} </label>
      <div class="p-inputgroup">
            <span class="p-float-label">
              <p-calendar appTabindexMinusOne formControlName="fieldValue" id="dateField4_{{i}}"
                          class="place-holder-width" [showButtonBar]="true"
                          (onSelect)="formatDate($event, i, 'w9Info')" [showIcon]="true"></p-calendar>
               <button pButton type="button" class="p-button p-button-sm clear-button"
                       icon="fa fa-close" (click)="additionalField.get('fieldValue').reset()"></button>
            </span>
      </div>
    </div>

              <div *ngIf="appFieldType.RADIO_BUTTON === additionalDataW9Info[i].fieldTypeId">
                <div class="grid col-12" [style]="{'align-items': 'center'}">
                    <div>
            <span
              class="label-wrapper">{{additionalDataW9Info[i].fieldName}}{{additionalDataW9Info[i].required ? '*' : ''}}</span>
          </div>
                  <div class="radio-container" *ngFor="let option of additionalDataW9Info[i].options">
                    <label>
                      <input id="male4" type="radio" value="{{option.optionValue}}" class="radioButton"
                             formControlName="fieldValue">
                      <span style="margin-left: 0.2rem; margin-right: 0.5rem"
                            for="male1">{{' ' + option.optionValue}}</span>
                    </label>
                  </div>
                </div>
              </div>

                 <div *ngIf="appFieldType.CHECK_BOX === additionalDataW9Info[i].fieldTypeId">
                    <label class="label-wrapper"
                           for="binary4">{{additionalDataW9Info[i].fieldName}}{{additionalDataW9Info[i].required ? '*' : ''}}</label>
        <div class="p-inputgroup" style="position:relative">
     <div class="field-checkbox">
           <p-checkbox name="checkBox" formControlName="fieldValue" id="binary4" binary="true"></p-checkbox>

          </div>
        </div>
      </div>

      <div class="p-invalid text-align-left"
           *ngIf="(additionalField.get('fieldValue').errors && additionalField.get('fieldValue').dirty) ||
(additionalField.get('attachment').errors && additionalField.get('attachment').dirty)">

         <div *ngIf="additionalField.get('fieldValue').dirty
             && additionalField.get('fieldValue').hasError('required')"> {{additionalDataW9Info[i].fieldName}}
           is required
            </div>

            <div *ngIf="additionalField.get('attachment').dirty
             && additionalField.get('attachment').hasError('required')"> {{additionalDataW9Info[i].fieldName}}
              is required
            </div>

        <div *ngIf="additionalField.get('fieldValue').hasError('isValidate')">
          Field require ({{appConstant.DATA_TYPE_PATTERN_MAP.get(additionalDataW9Info[i].dataType)}}) type
        </div>
      </div>
              </span>
          </ng-container>
        </ng-container>

      </div>

      <ng-container *ngIf="(vendorHome.vendorIdToEdit) && vendorAdditionalFieldAttachment.length>0"
                    class="grid">
        <div class="col-12">
          <h6 class="subHeadingColour">Files Attached</h6>
          <p-table responsiveLayout="scroll" [value]="vendorAdditionalFieldAttachment" scrollable="true"
                   scrollHeight="150px"
                   styleClass="p-datatable-md p-datatable-striped detail-table">

            <ng-template pTemplate="header">
              <tr>
                <th style="width:150px" class="thead-style detail-table-header-left" id="rName">File Name</th>
                <th style="width:150px" class="thead-style detail-table-header-left" id="fieldName">Field Name</th>
                <th style="width:50px" class="thead-style text-center" id="action">Action</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-i="rowIndex" let-item>
              <tr>

                <td [style]="'height : 30px'">
                  <label> {{item.fileName}}</label>
                </td>
                <td [style]="'height : 30px'">
                  <label> {{item.fieldName}}</label>
                </td>

                <td class="text-center">
                  <i (click)="downloadVendorAttachment(item)" class="download-icon"
                     [class]="item.loading ? 'pi pi-spin pi-spinner' : 'fa fa-download'"></i> &nbsp;

                  <i *ngIf="!item.loading"
                     (click)="deleteVendorAttachments(item, i)" id="deleteAttachment"
                     class="fa fa-trash download-icon"></i>
                </td>

              </tr>
            </ng-template>
          </p-table>
        </div>
      </ng-container>
      <br *ngIf="vendorAdditionalFieldAttachment.length>0">
    </div>

    <div class="col-12 more-info-duplicate" *ngIf="viewShowMoreContent">
      <p class="more-info"
         (click)="w9Information ? w9Information = false : w9Information = true;">{{!postalAddress && !w9Information ? 'Add W9 Information' : 'Hide W9 Information'}}
        <i [ngClass]="!postalAddress && !w9Information ? 'pi pi-angle-down': 'pi pi-angle-up'"></i></p>
    </div>
  </form>
</div>

<div class="grid button-responsive sticky-btn">
  <div class="col-12 vendor-create footer form-footer-button button-set-wrapper" [style.margin-bottom.px]="vendorHome.isOpenEditPage ? -16 : 0">
    <div class="pull-right pr-6">
      <button pButton type="button" label="Back"
              class="p-button-outlined p-button-sm margin-right" (click)="vendorHome.isOpenEditPage = false"
              *ngIf="vendorHome.isOpenEditPage" icon="pi pi-arrow-left"></button>
      <button pButton type="button" (click)="resetVendorCreateForm()" label="Reset"
              [disabled]="isCreate || isSendInvitation || isUpdateVendor"
              class="p-button-outlined p-button-sm margin-right" icon="fa-solid fa-rotate-right"></button>

      <button pButton type="submit" class="p-button-sm" (click)="onSubmit('CS')"
              *ngIf="!isVendorSelectedFromSuggestions && !vendorHome.isOpenEditPage &&
                  privilegeService.isAuthorized(appAuthorities.VENDORS_SEND_VENDOR_INVITATION)"
              iconPos="left" [icon]="!isSendInvitation ? 'pi pi-plus': 'pi pi-spin pi-spinner'"
              [disabled]="isCreate || isSendInvitation || isUpdateVendor"
              [label]="'Create and Send Invitation'"></button>&nbsp;

      <button pButton type="submit" class="p-button-sm" (click)="onSubmit('C')"
              *ngIf="!isVendorSelectedFromSuggestions && !vendorHome.isOpenEditPage"
              iconPos="left" [icon]="!isCreate ? 'pi pi-plus': 'pi pi-spin pi-spinner'"
              [disabled]="isCreate || isSendInvitation || isUpdateVendor"
              [label]="'Create Vendor'"></button>

      <button pButton type="submit" class="p-button-sm" (click)="onSubmit('U')"
              *ngIf="!isVendorSelectedFromSuggestions && vendorHome.isOpenEditPage"
              iconPos="left" [icon]="!isUpdateVendor ?'pi pi-save':'pi pi-spin pi-spinner'"
              [disabled]="isCreate || isSendInvitation || isUpdateVendor" [label]="'Save'"></button>

      <button pButton type="button" (click)="addVendorToCompanyFromList()" class="p-button-sm margin-right"
              *ngIf="isVendorSelectedFromSuggestions"
              iconPos="left" [icon]="'pi pi-plus'"
              label="Add to Company Vendor list"></button>

      <button pButton type="submit" class="p-button-sm" *ngIf="isVendorSelectedFromSuggestions"
              iconPos="left" [icon]="'pi pi-plus'" (click)="onSubmit('C')"
              label="Create as a local Vendor"></button>

    </div>
  </div>
</div>


<p-overlayPanel styleClass="vendorOverlay" #vendorOverlay [dismissable]="true" [showCloseIcon]="false">
  <ng-template pTemplate>
    <p [style]="{'color':'$green', 'font-size':'14px'}"><b>Existing Vendors In Vendor Community</b></p><br>
    <table>
      <div>
        <tr *ngFor="let vendor of suggestions; let i=index">
          <th class="th-border" (click)="vendorClickedFromList(vendor)">
            <div [style]="{'color':'#959595','margin-bottom': '8px','font-size': '16px'}">
              <i class="fa fa-user"></i> &nbsp;{{vendor.vendorName}}</div>
            <div [style]="{'color':'#959595','margin-bottom': '8px','font-weight': 'normal', 'font-size': '15px'}">
              <i class="pi pi-envelope"></i> &nbsp;{{vendor.email}}</div>
            <!--            <div [style]="{'color':'#959595','margin-bottom': '8px','font-weight': 'normal', 'font-size': '15px'}">-->
            <!--              <i class="fa fa-map-marker"></i> &nbsp;{{vendor.permenantAddress.country}}</div>-->
            <hr>
          </th>
        </tr>
      </div>
    </table>
  </ng-template>
</p-overlayPanel>


<p-sidebar [showCloseIcon]="true" *ngIf="vendorDetail" position="right" styleClass="p-sidebar-sm" [modal]="false"
           [(visible)]="vendorDetail">
  <ng-template pTemplate="header">Vendor Detail View</ng-template>
  <app-vendor-detail-drawer [vendorId]="vendorId" *ngIf="vendorDetail"></app-vendor-detail-drawer>
</p-sidebar>
<p-toast position="bottom-right" key="bc1"></p-toast>

<!--Create New DropDown-->
<p-sidebar styleClass="p-sidebar-sm" appendTo="body" (onHide)="addNewDropDown = false" position="right" [modal]="true"
           [dismissible]="true"
           *ngIf="addNewDropDown"
           [(visible)]="addNewDropDown">
  <ng-template pTemplate="header">Create New DropDown Option</ng-template>
  <app-additional-field-add-new [field]="selectedAdditionalField" *ngIf="addNewDropDown"
                                [needToRemoveAddNew]="true" [isCreate]="!isVendorEdit"
                                (closedComponent)="closeAdditionalDropdownCreateDrawer()"></app-additional-field-add-new>
</p-sidebar>

<p-confirmDialog #cd key="vendorAttachment" appendTo="body" header="Are you sure?"
                 icon="conf-delete-icon pi pi-exclamation-triangle">
  <p-footer>
    <button type="button" class="conf-cancel-btn p-button-outlined" pButton icon="pi pi-times" label="Cancel"
            (click)="cd.reject()"></button>
    <button type="button" class="conf-reject-btn" pButton icon="pi pi-check" label="Yes, Delete it!"
            (click)="cd.accept()"></button>
  </p-footer>
</p-confirmDialog>

<!--Create New Vendor Group-->
<p-sidebar styleClass="p-sidebar-sm" position="right" [modal]="true" [dismissible]="true" appendTo="body"
           *ngIf="createVendorGroup" [(visible)]="createVendorGroup">
  <ng-template pTemplate="header">Create Vendor Group</ng-template>
  <app-vendor-group-form (refreshGrid)="getVendorGroups(); createVendorGroup = false" [panel]="true"
                         *ngIf="createVendorGroup"></app-vendor-group-form>
</p-sidebar>
