<form [formGroup]="vendorInformationForm" class="form-margin vendor-detail-form detail-form mt-2" autocomplete="off">

  <div class="basic">
    <div class="grid p-fluid">

      <div class="col-12">
        <h6 class="subHeadingColour p-m-0">Basic Information</h6>
      </div>

      <div class="field col-4">
        <label>Name</label>
        <div>{{commonUtil.detailViewIsDash(vendor.name,false)}}</div>
      </div>

      <div class="field col-4">
        <label>Code</label>
        <div>{{commonUtil.detailViewIsDash(vendor.vendorCode,false)}}</div>
      </div>

      <div class="field col-4">
        <label>Contact Name</label>
        <div>{{commonUtil.detailViewIsDash(vendor.contactPerson,false)}}</div>
      </div>

      <div class="field col-4">
        <label>Contact Number</label>
        <div>{{commonUtil.detailViewIsDash(vendor.contactNumber,false)}}</div>
      </div>

      <div class="field col-4">
        <label>Fax Number</label>
        <div>{{commonUtil.detailViewIsDash(vendor.fax,false)}}</div>
      </div>

      <div class="field col-4">
        <label>Email</label>
        <div>{{commonUtil.detailViewIsDash(vendor.email,false)}}</div>
      </div>

      <div class="field col-4">
        <label>CC Email</label>
        <div>{{commonUtil.detailViewIsDash(vendor.ccEmail,false)}}</div>
      </div>

      <div class="field col-4">
        <label>Vendor Group</label>
        <div>{{commonUtil.detailViewIsDash(vendor.vendorGroupNameList,false)}}</div>
      </div>

      <div class="field col-4">
        <label>Payment Term</label>
        <div>{{commonUtil.detailViewIsDash(vendor.termName,false)}}</div>
      </div>

      <div class="field col-4" *ngIf="vendor.term === 10">
        <label>Net Days Due</label>
        <div>{{commonUtil.detailViewIsDash(vendor.netDaysDue,true)}}</div>
      </div>

      <div class="field col-4" *ngIf="vendor.term === 10">
        <label>Discount Percentage</label>
        <div>{{commonUtil.detailViewIsDash(vendor.discountPercentage,true)}}</div>
      </div>

      <div class="field col-4" *ngIf="vendor.term === 10">
        <label>Discount Days Due</label>
        <div>{{commonUtil.detailViewIsDash(vendor.discountDaysDue,false)}}</div>
      </div>


      <div class="field col-4">
        <label>Is Confidential Vendor?</label>
        <div>{{vendor.confidential ? 'Yes' : 'No'}}</div>
      </div>

      <div class="field col-4">
        <label>Is 1099 Vendor?</label>
        <div>{{vendor.tenNinetyNine ? 'Yes' : 'No'}}</div>
      </div>
    </div>
    <div class="grid p-fluid mt-1" *ngIf="additionalDataBasicInfo.length>0">
      <ng-container formArrayName="additionalDataBasicInfo">
        <ng-container *ngFor="let additionalField of vendorAdditionalDataArrayInBasicInformation.controls; let i=index"
                      [formGroupName]="i">
      <span class="field col-4"
            *ngIf="commonUtil.checkUndefinedValues(additionalField.get('fieldValue').value, additionalDataBasicInfo[i]?.docStatus, true)">
          <label>{{additionalDataBasicInfo[i].fieldName}}</label>
            <div>{{additionalField.get('fieldValue').value}}</div>
      </span>
        </ng-container>
      </ng-container>
    </div>
  </div>

  <div class="basic mt-5">
    <div class="grid p-fluid ">

      <div class="col-12">
        <h6 class="subHeadingColour p-m-0">Supplier Diversity Information</h6>
      </div>

      <div class="field col-4">
        <label>Diverse supplier?</label>
        <div>{{vendor.diverseSupplier ? 'Yes' : 'No'}}</div>
      </div>

      <div class="field col-4">
        <label>Classification</label>
        <div>{{commonUtil.detailViewIsDash(vendor.classificationIdList, false)}}</div>
      </div>

    </div>
  </div>

  <div class="basic mt-5">
    <div class="grid p-fluid ">

      <div class="col-12">
        <h6 class="subHeadingColour p-m-0">Payment Information</h6>
      </div>

      <div class="field col-4">
        <label>Accepted Payment Type(s)</label>
        <div>{{commonUtil.detailViewIsDash(vendor.acceptedPaymentTypesStr, false)}}</div>
      </div>

      <div class="field col-4">
        <label>Preferred Payment Type</label>
        <div>{{commonUtil.detailViewIsDash(vendor.preferredPaymentTypeStr, false)}}</div>
      </div>

      <div class="field col-4">
        <label>Name</label>
        <div>{{commonUtil.detailViewIsDash(vendor.companyName, false)}}</div>
      </div>

      <div class="field col-4">
        <label>Recipient Type</label>
        <div>{{commonUtil.detailViewIsDash(vendor.recipientType, false)}}</div>
      </div>

      <div class="field col-4">
        <label>Account Type</label>
        <div>{{commonUtil.detailViewIsDash(vendor.accountType, false)}}</div>
      </div>

      <div class="field col-4">
        <label>Account Number</label>
        <div>{{commonUtil.detailViewIsDash(vendor.accountNumber, false)}}</div>
      </div>

      <div class="field col-4">
        <label>Bank Identification Number / Routing Number</label>
        <div>{{commonUtil.detailViewIsDash(vendor.accountRoutingNumber, false)}}</div>
      </div>

      <div class="field col-4">
        <label>Remittance Email</label>
        <div>{{commonUtil.detailViewIsDash(vendor.remittanceEmail, false)}}</div>
      </div>

    </div>
    <div class="grid p-fluid mt-1" *ngIf="additionalDataPaymentInfo.length>0">
      <ng-container formArrayName="additionalDataPaymentInfo">
        <ng-container
          *ngFor="let additionalField of vendorAdditionalDataArrayInPaymentInformation.controls; let i=index"
          [formGroupName]="i">
      <span class="field col-4"
            *ngIf="commonUtil.checkUndefinedValues(additionalField.get('fieldValue').value, additionalDataPaymentInfo[i]?.docStatus, true)">
          <label>{{additionalDataPaymentInfo[i].fieldName}}</label>
         <div>{{additionalField.get('fieldValue').value}}</div>
      </span>
        </ng-container>
      </ng-container>
    </div>
  </div>

  <div class="basic mt-5">
    <div class="grid p-fluid">

      <div class="col-6">
        <div class="col-12">
          <h6 class="subHeadingColour p-m-0">Postal Address</h6>
        </div>

        <div class="field col-12">
          <div *ngIf="vendor.permenantAddress?.addressLine1">{{vendor.permenantAddress?.addressLine1 + ','}}</div>
          <div *ngIf="vendor.permenantAddress?.addressLine2">{{vendor.permenantAddress?.addressLine2 + ','}}</div>
          <div *ngIf="vendor.permenantAddress?.city">{{vendor.permenantAddress?.city + ','}}</div>
          <div *ngIf="vendor.permenantAddress?.addressState">{{vendor.permenantAddress?.addressState + ','}}</div>
          <div *ngIf="vendor.permenantAddress?.zipcode">{{vendor.permenantAddress?.zipcode + ','}}</div>
          <div *ngIf="vendor.permenantAddress?.country">{{vendor.permenantAddress?.country + '.'}}</div>
        </div>

        <div class="grid p-fluid mt-1 pl-2" *ngIf="additionalDataPostalAddress.length>0">
          <ng-container formArrayName="additionalDataPostalAddress">
            <ng-container *ngFor="let additionalField of vendorAdditionalDataArrayInPostalAddress.controls; let i=index"
                          [formGroupName]="i">
      <span class="field col-12"
            *ngIf="commonUtil.checkUndefinedValues(additionalField.get('fieldValue').value, additionalDataPostalAddress[i]?.docStatus, true)">
          <label>{{additionalDataPostalAddress[i].fieldName}}</label>
         <div>{{additionalField.get('fieldValue').value}}</div>
      </span>
            </ng-container>
          </ng-container>
        </div>

      </div>

      <div class="col-6" style="margin-top: 7px">
        <div class="grid p-fluid" *ngIf="!isRemitEmpty()">
          <div class="col-12">
            <h6 class="subHeadingColour p-m-0">Remit Address</h6>
            <p class="subHeadingColour mt-2">Remit address is same as the postal address</p>
          </div>
        </div>

        <div *ngIf="isRemitEmpty()" class="grid p-fluid">

          <div class="col-12">
            <h6 class="subHeadingColour p-m-0">Remit Address</h6>
          </div>

          <div class="field col-12">
            <div *ngIf="vendor.remitAddress?.addressLine1">{{vendor.remitAddress?.addressLine1 + ','}}</div>
            <div *ngIf="vendor.remitAddress?.addressLine2">{{vendor.remitAddress?.addressLine2 + ','}}</div>
            <div *ngIf="vendor.remitAddress?.city">{{vendor.remitAddress?.city + ','}}</div>
            <div *ngIf="vendor.remitAddress?.addressState">{{vendor.remitAddress?.addressState + ','}}</div>
            <div *ngIf="vendor.remitAddress?.zipcode">{{vendor.remitAddress?.zipcode + ','}}</div>
            <div *ngIf="vendor.remitAddress?.country">{{vendor.remitAddress?.country + '.'}}</div>
          </div>
        </div>

        <div class="grid p-fluid mt-1" *ngIf="additionalDataRemitAddress.length>0">
          <ng-container formArrayName="additionalDataRemitAddress">
            <ng-container *ngFor="let additionalField of vendorAdditionalDataArrayInRemitAddress.controls; let i=index"
                          [formGroupName]="i">
      <span class="field col-12"
            *ngIf="commonUtil.checkUndefinedValues(additionalField.get('fieldValue').value, additionalDataRemitAddress[i]?.docStatus, true)">
          <label>{{additionalDataRemitAddress[i].fieldName}}</label>
                 <div>{{additionalField.get('fieldValue').value}}</div>
      </span>
            </ng-container>
          </ng-container>
        </div>
      </div>
    </div>
  </div>




  <div class="basic mt-5">
    <div class="grid p-fluid ">

      <div class="col-12">
        <h6 class="subHeadingColour p-m-0">W9 Form Information</h6>
      </div>

      <div class="field col-4">
        <label>Federal Tax Classification</label>
        <div>{{commonUtil.detailViewIsDash(vendor.taxClassification, false)}}</div>
      </div>

      <div class="field col-4">
        <label>Social Security Number</label>
        <div>{{commonUtil.detailViewIsDash(vendor.socialSecNo, false)}}</div>
      </div>

      <div class="field col-4">
        <label>Employee ID</label>
        <div>{{commonUtil.detailViewIsDash(vendor.empIdNo, false)}}</div>
      </div>

      <div class="field col-4">
        <label>Exempt Payee Code</label>
        <div>{{commonUtil.detailViewIsDash(vendor.exemptPayeeCode, false)}}</div>
      </div>

      <div class="field col-4">
        <label>FACTA Reporting Code</label>
        <div>{{commonUtil.detailViewIsDash(vendor.fatcaReportingCode, false)}}</div>
      </div>
    </div>

    <div class="grid p-fluid mt-1" *ngIf="additionalDataW9Info.length>0">
      <ng-container formArrayName="additionalDataW9Info">
        <ng-container *ngFor="let additionalField of vendorAdditionalDataArrayInW9Form.controls; let i=index"
                      [formGroupName]="i">
      <span class="field col-4"
            *ngIf="commonUtil.checkUndefinedValues(additionalField.get('fieldValue').value, additionalDataW9Info[i]?.docStatus, true)">
          <label>{{additionalDataW9Info[i].fieldName}}</label>
         <div>{{additionalField.get('fieldValue').value}}</div>
      </span>
        </ng-container>
      </ng-container>
    </div>
  </div>

  <div class="basic mt-5" *ngIf="vendorAdditionalFieldAttachment.length>0">
    <div class="grid">
      <div class="col-8">
        <h6 class="subHeadingColour">Files Attached</h6>
        <div>
          <p-table responsiveLayout="scroll" [value]="vendorAdditionalFieldAttachment" scrollable="true"
                   scrollHeight="150px"
                   styleClass="p-datatable-sm p-datatable-striped detail-table">
            <ng-template pTemplate="colgroup" let-columns>
              <colgroup>
                <col style="width:200px">
                <col style="width:200px">
                <col style="width:50px">
              </colgroup>
            </ng-template>
            <ng-template pTemplate="header">
              <tr>
                <th class="thead-style detail-table-header-left" id="rName">File Name</th>
                <th class="thead-style detail-table-header-left" id="fieldName">Field Name</th>
                <th class="thead-style detail-table-header-left" id="action">Action</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-i="rowIndex" let-item>
              <tr>
                <td [style]="'height : 30px'" class="break-word">
                  <label> {{item.fileName}}</label>
                </td>
                <td [style]="'height : 30px'">
                  <label> {{item.fieldName}}</label>
                </td>
                <td class="text-center">
                  <i (click)="downloadVendorAttachment(item)" class="download-icon"
                     [class]="item.loading ? 'pi pi-spin pi-spinner' : 'fa fa-download'"></i>
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>
    </div>
  </div>
</form>

